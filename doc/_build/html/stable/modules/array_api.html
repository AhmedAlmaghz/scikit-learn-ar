
<!DOCTYPE html>


<html lang="en" data-content_root="../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />
<meta property="og:title" content="دعم واجهة برمجة تطبيقات المصفوفة (تجريبي)" />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://scikit-learn/stable/modules/array_api.html" />
<meta property="og:site_name" content="scikit-learn" />
<meta property="og:description" content="هذا النص هو جزء من وثائق Scikit-learn، وهو مكتبة للتعلم الآلي في بايثون. يشرح النص دعم Scikit-learn لمواصفات Array API، والتي توفر واجهة برمجة تطبيقات (API) قياسية لمكتبات التعامل مع المصفوفات التي..." />
<meta property="og:image" content="https://scikit-learn.org/stable/_static/scikit-learn-logo-small.png" />
<meta property="og:image:alt" content="scikit-learn" />
<meta name="description" content="هذا النص هو جزء من وثائق Scikit-learn، وهو مكتبة للتعلم الآلي في بايثون. يشرح النص دعم Scikit-learn لمواصفات Array API، والتي توفر واجهة برمجة تطبيقات (API) قياسية لمكتبات التعامل مع المصفوفات التي..." />

    <title>دعم واجهة برمجة تطبيقات المصفوفة (تجريبي) &#8212; scikit-learn 1.5.1 documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="../_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=a746c00c" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../_static/plot_directive.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery.css?v=d2d258e8" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery-binder.css?v=f4aeca0c" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery-dataframe.css?v=2082cf3c" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery-rendered-html.css?v=1277b6f3" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-design.min.css?v=95c83b7e" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/colors.css?v=cc94ab7d" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/custom.css?v=e4cb1417" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="../_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>

    <script src="../_static/documentation_options.js?v=44dfd65d"></script>
    <script src="../_static/doctools.js?v=9a2dae69"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../_static/copybutton.js?v=97f0b27d"></script>
    <script src="../_static/design-tabs.js?v=f930bc37"></script>
    <script data-domain="scikit-learn.org" defer="defer" src="https://views.scientific-python.org/js/script.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'modules/array_api';</script>
    <script>
        DOCUMENTATION_OPTIONS.theme_version = '0.15.4';
        DOCUMENTATION_OPTIONS.theme_switcher_json_url = 'https://scikit-learn.org/dev/_static/versions.json';
        DOCUMENTATION_OPTIONS.theme_switcher_version_match = '1.5.1';
        DOCUMENTATION_OPTIONS.show_version_warning_banner = true;
        </script>
    <script src="../_static/scripts/dropdown.js?v=e2048168"></script>
    <script src="../_static/scripts/version-switcher.js?v=a6dd8357"></script>
    <link rel="icon" href="../_static/favicon.ico"/>
    <link rel="author" title="About these documents" href="../about.html" />
    <link rel="search" title="Search" href="../search.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
<div class="bd-header__inner bd-page-width">
  <button class="pst-navbar-icon sidebar-toggle primary-toggle" aria-label="Site navigation">
    <span class="fa-solid fa-bars"></span>
  </button>
  
  
  <div class=" navbar-header-items__start">
    
      <div class="navbar-item">

  
    
  

<a class="navbar-brand logo" href="../index.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../_static/scikit-learn-logo-small.png" class="logo__image only-light" alt="scikit-learn homepage"/>
    <script>document.write(`<img src="../_static/scikit-learn-logo-small.png" class="logo__image only-dark" alt="scikit-learn homepage"/>`);</script>
  
  
</a></div>
    
  </div>
  
  <div class=" navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item ">
  <a class="nav-link nav-internal" href="../install.html">
    Install
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../user_guide.html">
    مرجع المستخدم
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../api/index.html">
    API
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../auto_examples/index.html">
    Examples
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-external" href="https://blog.scikit-learn.org/">
    Community
  </a>
</li>

            <li class="nav-item dropdown">
                <button class="btn dropdown-toggle nav-item" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-controls="pst-nav-more-links">
                    More
                </button>
                <ul id="pst-nav-more-links" class="dropdown-menu">
                    
<li class=" ">
  <a class="nav-link dropdown-item nav-internal" href="../getting_started.html">
    بدء الاستخدام
  </a>
</li>


<li class=" ">
  <a class="nav-link dropdown-item nav-internal" href="../whats_new.html">
    تاريخ الإصدارات
  </a>
</li>


<li class=" ">
  <a class="nav-link dropdown-item nav-internal" href="../glossary.html">
    Glossary
  </a>
</li>


<li class=" ">
  <a class="nav-link dropdown-item nav-external" href="https://scikit-learn.org/dev/developers/index.html">
    Development
  </a>
</li>


<li class=" ">
  <a class="nav-link dropdown-item nav-internal" href="../faq.html">
    FAQ
  </a>
</li>


<li class=" ">
  <a class="nav-link dropdown-item nav-internal" href="../support.html">
    الدعم
  </a>
</li>


<li class=" ">
  <a class="nav-link dropdown-item nav-internal" href="../related_projects.html">
    التعاون مع الأطر الأخرى وتحسينها
  </a>
</li>


<li class=" ">
  <a class="nav-link dropdown-item nav-internal" href="../roadmap.html">
    خارطة الطريق
  </a>
</li>


<li class=" ">
  <a class="nav-link dropdown-item nav-internal" href="../governance.html">
    Governance
  </a>
</li>


<li class=" ">
  <a class="nav-link dropdown-item nav-internal" href="../about.html">
    الحوكمة
  </a>
</li>

                </ul>
            </li>
            
  </ul>
</nav></div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
        <div class="navbar-item navbar-persistent--container">
          

<script>
document.write(`
  <button class="btn btn-sm pst-navbar-icon search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
        </div>
      
      
        <div class="navbar-item">

<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script></div>
      
        <div class="navbar-item"><ul class="navbar-icon-links"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/scikit-learn/scikit-learn" title="GitHub" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-square-github fa-lg" aria-hidden="true"></i>
            <span class="sr-only">GitHub</span></a>
        </li>
</ul></div>
      
        <div class="navbar-item">
<script>
document.write(`
  <div class="version-switcher__container dropdown">
    <button id="pst-version-switcher-button-2"
      type="button"
      class="version-switcher__button btn btn-sm dropdown-toggle"
      data-bs-toggle="dropdown"
      aria-haspopup="listbox"
      aria-controls="pst-version-switcher-list-2"
      aria-label="Version switcher list"
    >
      Choose version  <!-- this text may get changed later by javascript -->
      <span class="caret"></span>
    </button>
    <div id="pst-version-switcher-list-2"
      class="version-switcher__menu dropdown-menu list-group-flush py-0"
      role="listbox" aria-labelledby="pst-version-switcher-button-2">
      <!-- dropdown will be populated by javascript on page load -->
    </div>
  </div>
`);
</script></div>
      
    </div>
    
  </div>
  
  
    <div class="navbar-persistent--mobile">

<script>
document.write(`
  <button class="btn btn-sm pst-navbar-icon search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
    </div>
  

  
    <button class="pst-navbar-icon sidebar-toggle secondary-toggle" aria-label="On this page">
      <span class="fa-solid fa-outdent"></span>
    </button>
  
</div>

    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
        
      
      <div class="bd-sidebar-primary bd-sidebar hide-on-wide">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          
          
            <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item ">
  <a class="nav-link nav-internal" href="../install.html">
    Install
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../user_guide.html">
    مرجع المستخدم
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../api/index.html">
    API
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../auto_examples/index.html">
    Examples
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-external" href="https://blog.scikit-learn.org/">
    Community
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../getting_started.html">
    بدء الاستخدام
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../whats_new.html">
    تاريخ الإصدارات
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../glossary.html">
    Glossary
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-external" href="https://scikit-learn.org/dev/developers/index.html">
    Development
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../faq.html">
    FAQ
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../support.html">
    الدعم
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../related_projects.html">
    التعاون مع الأطر الأخرى وتحسينها
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../roadmap.html">
    خارطة الطريق
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../governance.html">
    Governance
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../about.html">
    الحوكمة
  </a>
</li>

  </ul>
</nav></div>
          
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item">

<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script></div>
        
          <div class="navbar-item"><ul class="navbar-icon-links"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/scikit-learn/scikit-learn" title="GitHub" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-square-github fa-lg" aria-hidden="true"></i>
            <span class="sr-only">GitHub</span></a>
        </li>
</ul></div>
        
          <div class="navbar-item">
<script>
document.write(`
  <div class="version-switcher__container dropdown">
    <button id="pst-version-switcher-button-3"
      type="button"
      class="version-switcher__button btn btn-sm dropdown-toggle"
      data-bs-toggle="dropdown"
      aria-haspopup="listbox"
      aria-controls="pst-version-switcher-list-3"
      aria-label="Version switcher list"
    >
      Choose version  <!-- this text may get changed later by javascript -->
      <span class="caret"></span>
    </button>
    <div id="pst-version-switcher-list-3"
      class="version-switcher__menu dropdown-menu list-group-flush py-0"
      role="listbox" aria-labelledby="pst-version-switcher-button-3">
      <!-- dropdown will be populated by javascript on page load -->
    </div>
  </div>
`);
</script></div>
        
      </div>
    
  </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">



<nav aria-label="Breadcrumb" class="d-print-none">
  <ul class="bd-breadcrumbs">
    
    <li class="breadcrumb-item breadcrumb-home">
      <a href="../index.html" class="nav-link" aria-label="Home">
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
    <li class="breadcrumb-item active" aria-current="page">دعم واجهة...</li>
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <p>هذا النص هو جزء من وثائق Scikit-learn، وهو مكتبة للتعلم الآلي في بايثون. يشرح النص دعم Scikit-learn لمواصفات Array API، والتي توفر واجهة برمجة تطبيقات (API) قياسية لمكتبات التعامل مع المصفوفات التي تشبه NumPy.</p>
<section id="id1">
<h1>دعم واجهة برمجة تطبيقات المصفوفة (تجريبي)<a class="headerlink" href="#id1" title="Link to this heading">#</a></h1>
<p>تحدد مواصفات واجهة برمجة تطبيقات المصفوفة (Array API) واجهة برمجة تطبيقات قياسية لجميع مكتبات التعامل مع المصفوفات التي تشبه NumPy. يتطلب دعم Scikit-learn لبرنامج Array API تثبيت برنامج “array-api-compat”.</p>
<p>يمكن تكوين بعض أدوات التقدير في Scikit-learn التي تعتمد بشكل أساسي على NumPy (بدلاً من استخدام Cython) لتنفيذ المنطق الحسابي لأساليبها في التهيئة والتنبؤ والتحويل لقبول أي هياكل بيانات متوافقة مع واجهة برمجة تطبيقات المصفوفة، وإرسال العمليات تلقائيًا إلى مساحة الاسم الأساسية بدلاً من الاعتماد على NumPy.</p>
<p>في هذه المرحلة، يُعتبر هذا الدعم <strong>تجريبيًا</strong> ويجب تمكينه بشكل صريح كما هو موضح أدناه.</p>
<p>ملاحظة:
في الوقت الحالي، من المعروف أن “array-api-strict” و “cupy” و “PyTorch” تعمل مع أدوات التقدير في Scikit-learn.</p>
</section>
<section id="id2">
<h1>مثال الاستخدام<a class="headerlink" href="#id2" title="Link to this heading">#</a></h1>
<p>فيما يلي مقتطف من التعليمات البرمجية يوضح كيفية استخدام CuPy لتشغيل LinearDiscriminantAnalysis على وحدة معالجة الرسومات (GPU):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">sklearn.datasets</span> <span class="kn">import</span> <span class="n">make_classification</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">sklearn</span> <span class="kn">import</span> <span class="n">config_context</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">sklearn.discriminant_analysis</span> <span class="kn">import</span> <span class="n">LinearDiscriminantAnalysis</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">cupy</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">X_np</span><span class="p">,</span> <span class="n">y_np</span> <span class="o">=</span> <span class="n">make_classification</span><span class="p">(</span><span class="n">random_state</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">X_cu</span> <span class="o">=</span> <span class="n">cupy</span><span class="o">.</span><span class="n">asarray</span><span class="p">(</span><span class="n">X_np</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">y_cu</span> <span class="o">=</span> <span class="n">cupy</span><span class="o">.</span><span class="n">asarray</span><span class="p">(</span><span class="n">y_np</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">X_cu</span><span class="o">.</span><span class="n">device</span>
<span class="go">&lt;CUDA Device 0&gt;</span>

<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">config_context</span><span class="p">(</span><span class="n">array_api_dispatch</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">lda</span> <span class="o">=</span> <span class="n">LinearDiscriminantAnalysis</span><span class="p">()</span>
<span class="gp">... </span>    <span class="n">X_trans</span> <span class="o">=</span> <span class="n">lda</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">X_cu</span><span class="p">,</span> <span class="n">y_cu</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">X_trans</span><span class="o">.</span><span class="n">device</span>
<span class="go">&lt;CUDA Device 0&gt;</span>
</pre></div>
</div>
<p>بعد تدريب النموذج، ستكون السمات المناسبة التي تكون مصفوفات أيضًا من نفس مساحة اسم واجهة برمجة تطبيقات المصفوفة الخاصة ببيانات التدريب. على سبيل المثال، إذا تم استخدام مساحة اسم واجهة برمجة تطبيقات CuPy للتدريب، فستكون السمات المناسبة على وحدة معالجة الرسومات (GPU). نوفر مرفقًا تجريبيًا يسمى “_estimator_with_converted_arrays” يقوم بنقل سمات أداة التقدير من واجهة برمجة تطبيقات المصفوفة إلى مصفوفة ndarray:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">sklearn.utils._array_api</span> <span class="kn">import</span> <span class="n">_estimator_with_converted_arrays</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cupy_to_ndarray</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">array</span> <span class="p">:</span> <span class="n">array</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lda_np</span> <span class="o">=</span> <span class="n">_estimator_with_converted_arrays</span><span class="p">(</span><span class="n">lda</span><span class="p">,</span> <span class="n">cupy_to_ndarray</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">X_trans</span> <span class="o">=</span> <span class="n">lda_np</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">X_np</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">type</span><span class="p">(</span><span class="n">X_trans</span><span class="p">)</span>
<span class="go">&lt;class &#39;numpy.ndarray&#39;&gt;</span>
</pre></div>
</div>
<section id="pytorch">
<h2>دعم PyTorch<a class="headerlink" href="#pytorch" title="Link to this heading">#</a></h2>
<p>يتم دعم PyTorch Tensors من خلال تعيين “array_api_dispatch=True” وإدخال المنسوجات مباشرةً:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">torch</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">X_torch</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">asarray</span><span class="p">(</span><span class="n">X_np</span><span class="p">,</span> <span class="n">device</span><span class="o">=</span><span class="s2">&quot;cuda&quot;</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">torch</span><span class="o">.</span><span class="n">float32</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">y_torch</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">asarray</span><span class="p">(</span><span class="n">y_np</span><span class="p">,</span> <span class="n">device</span><span class="o">=</span><span class="s2">&quot;cuda&quot;</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">torch</span><span class="o">.</span><span class="n">float32</span><span class="p">)</span>

<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">config_context</span><span class="p">(</span><span class="n">array_api_dispatch</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">lda</span> <span class="o">=</span> <span class="n">LinearDiscriminantAnalysis</span><span class="p">()</span>
<span class="gp">... </span>    <span class="n">X_trans</span> <span class="o">=</span> <span class="n">lda</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">X_torch</span><span class="p">,</span> <span class="n">y_torch</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">type</span><span class="p">(</span><span class="n">X_trans</span><span class="p">)</span>
<span class="go">&lt;class &#39;torch.Tensor&#39;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">X_trans</span><span class="o">.</span><span class="n">device</span><span class="o">.</span><span class="n">type</span>
<span class="go">&#39;cuda&#39;</span>
</pre></div>
</div>
</section>
</section>
<section id="id3">
<h1>الدعم لمدخلات متوافقة مع واجهة برمجة تطبيقات المصفوفة<a class="headerlink" href="#id3" title="Link to this heading">#</a></h1>
<p>أدوات التقدير والأدوات الأخرى في Scikit-learn التي تدعم المدخلات المتوافقة مع واجهة برمجة تطبيقات المصفوفة.</p>
<section id="id4">
<h2>أدوات التقدير<a class="headerlink" href="#id4" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p><code class="xref py py-class docutils literal notranslate"><span class="pre">decomposition.PCA</span></code> (مع <code class="docutils literal notranslate"><span class="pre">svd_solver=&quot;full&quot;</span></code>، و`svd_solver=”randomized”` و`power_iteration_normalizer=”QR”<a href="#id5"><span class="problematic" id="id6">`</span></a>)</p></li>
<li><p><code class="xref py py-class docutils literal notranslate"><span class="pre">linear_model.Ridge</span></code> (مع <code class="docutils literal notranslate"><span class="pre">solver=&quot;svd&quot;</span></code>)</p></li>
<li><p><code class="xref py py-class docutils literal notranslate"><span class="pre">discriminant_analysis.LinearDiscriminantAnalysis</span></code> (مع <code class="docutils literal notranslate"><span class="pre">solver=&quot;svd&quot;</span></code>)</p></li>
<li><p><code class="xref py py-class docutils literal notranslate"><span class="pre">preprocessing.KernelCenterer</span></code></p></li>
<li><p><code class="xref py py-class docutils literal notranslate"><span class="pre">preprocessing.MaxAbsScaler</span></code></p></li>
<li><p><code class="xref py py-class docutils literal notranslate"><span class="pre">preprocessing.MinMaxScaler</span></code></p></li>
<li><p><code class="xref py py-class docutils literal notranslate"><span class="pre">preprocessing.Normalizer</span></code></p></li>
</ul>
</section>
<section id="id7">
<h2>أدوات التقدير الفوقية<a class="headerlink" href="#id7" title="Link to this heading">#</a></h2>
<p>أدوات التقدير الفوقية التي تقبل مدخلات واجهة برمجة تطبيقات المصفوفة بشرط أن تفعل أداة التقدير الأساسية ذلك:</p>
<ul class="simple">
<li><p><code class="xref py py-class docutils literal notranslate"><span class="pre">model_selection.GridSearchCV</span></code></p></li>
<li><p><code class="xref py py-class docutils literal notranslate"><span class="pre">model_selection.RandomizedSearchCV</span></code></p></li>
<li><p><code class="xref py py-class docutils literal notranslate"><span class="pre">model_selection.HalvingGridSearchCV</span></code></p></li>
<li><p><code class="xref py py-class docutils literal notranslate"><span class="pre">model_selection.HalvingRandomSearchCV</span></code></p></li>
</ul>
</section>
<section id="id8">
<h2>المقاييس<a class="headerlink" href="#id8" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">sklearn.metrics.cluster.entropy</span></code></p></li>
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">sklearn.metrics.accuracy_score</span></code></p></li>
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">sklearn.metrics.d2_tweedie_score</span></code></p></li>
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">sklearn.metrics.max_error</span></code></p></li>
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">sklearn.metrics.mean_absolute_error</span></code></p></li>
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">sklearn.metrics.mean_absolute_percentage_error</span></code></p></li>
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">sklearn.metrics.mean_gamma_deviance</span></code></p></li>
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">sklearn.metrics.mean_poisson_deviance</span></code> (يتطلب تمكين دعم واجهة برمجة تطبيقات المصفوفة لـ SciPy)</p></li>
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">sklearn.metrics.mean_squared_error</span></code></p></li>
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">sklearn.metrics.mean_tweedie_deviance</span></code></p></li>
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">sklearn.metrics.pairwise.additive_chi2_kernel</span></code></p></li>
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">sklearn.metrics.pairwise.chi2_kernel</span></code></p></li>
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">sklearn.metrics.pairwise.cosine_similarity</span></code></p></li>
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">sklearn.metrics.pairwise.cosine_distances</span></code></p></li>
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">sklearn.metrics.pairwise.euclidean_distances</span></code> (راجع قسم “device_support_for_float64”)</p></li>
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">sklearn.metrics.pairwise.paired_cosine_distances</span></code></p></li>
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">sklearn.metrics.pairwise.paired_euclidean_distances</span></code></p></li>
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">sklearn.metrics.pairwise.rbf_kernel</span></code> (راجع قسم “device_support_for_float64”)</p></li>
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">sklearn.metrics.r2_score</span></code></p></li>
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">sklearn.metrics.zero_one_loss</span></code></p></li>
</ul>
</section>
<section id="id9">
<h2>الأدوات<a class="headerlink" href="#id9" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">model_selection.train_test_split</span></code></p></li>
</ul>
<p>من المتوقع أن تزداد التغطية بمرور الوقت. يرجى متابعة المشكلة المخصصة على GitHub لتتبع التقدم.</p>
</section>
<section id="id10">
<h2>نوع قيم الإرجاع والسمات المناسبة<a class="headerlink" href="#id10" title="Link to this heading">#</a></h2>
<p>عند استدعاء الدوال أو الأساليب مع مدخلات متوافقة مع واجهة برمجة تطبيقات المصفوفة، تكون الاتفاقية هي إرجاع قيم المصفوفة من نفس نوع حاوية المصفوفة والجهاز مثل بيانات الإدخال.</p>
<p>بالمثل، عندما يتم تكييف أداة التقدير مع مدخلات متوافقة مع واجهة برمجة تطبيقات المصفوفة، ستكون السمات المناسبة مصفوفات من نفس المكتبة مثل الإدخال ويتم تخزينها على نفس الجهاز. تتوقع أساليب “التنبؤ” و”التحويل” بعد ذلك إدخالات من نفس مكتبة المصفوفات والجهاز مثل البيانات التي تم تمريرها إلى طريقة “التهيئة”.</p>
<p>لاحظ، مع ذلك، أن دالات التسجيل التي تعيد قيمًا قياسية تعيد قيمًا قياسية من Python (عادةً مثيل “float”) بدلاً من قيمة قياسية للمصفوفة.</p>
</section>
</section>
<section id="id11">
<h1>فحوصات أداة التقدير الشائعة<a class="headerlink" href="#id11" title="Link to this heading">#</a></h1>
<p>أضف علامة “array_api_support” إلى مجموعة العلامات الخاصة بأداة التقدير للإشارة إلى أنها تدعم واجهة برمجة تطبيقات المصفوفة. سيمكن ذلك الفحوصات المخصصة كجزء من الاختبارات الشائعة للتحقق من أن نتائج أداة التقدير متطابقة عند استخدام مدخلات NumPy العادية ومدخلات واجهة برمجة تطبيقات المصفوفة.</p>
<p>لتشغيل هذه الفحوصات، تحتاج إلى تثبيت “array_api_compat” في بيئة الاختبار الخاصة بك. لتشغيل المجموعة الكاملة من الفحوصات، تحتاج إلى تثبيت كل من “PyTorch” و”CuPy” وامتلاك وحدة معالجة الرسومات (GPU). سيتم تخطي الفحوصات التي لا يمكن تنفيذها أو التي بها تبعيات مفقودة تلقائيًا. لذلك من المهم تشغيل الاختبارات باستخدام علم “-v” لمعرفة الفحوصات التي يتم تخطيها:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><style type="text/css">
span.prompt1:before {
  content: "$ ";
}
</style><span class="prompt1">pip<span class="w"> </span>install<span class="w"> </span>array-api-compat<span class="w">  </span><span class="c1"># والمكتبات الأخرى حسب الحاجة</span></span>
<span class="prompt1">pytest<span class="w"> </span>-k<span class="w"> </span><span class="s2">&quot;array_api&quot;</span><span class="w"> </span>-v</span>
</pre></div></div><section id="mps">
<h2>ملاحظة حول دعم جهاز MPS<a class="headerlink" href="#mps" title="Link to this heading">#</a></h2>
<p>في macOS، يمكن لـ PyTorch استخدام Metal Performance Shaders (MPS) للوصول إلى المعجلات (مثل مكون وحدة معالجة الرسومات (GPU) الداخلي لشريحة M1 أو M2). ومع ذلك، فإن دعم جهاز MPS لـ PyTorch غير مكتمل في وقت الكتابة. راجع مشكلة GitHub التالية للحصول على مزيد من التفاصيل:</p>
<ul class="simple">
<li><p><a class="github reference external" href="https://github.com/pytorch/pytorch/issues/77764">pytorch/pytorch#77764</a></p></li>
</ul>
<p>لتمكين دعم MPS في PyTorch، قم بتعيين متغير البيئة “PYTORCH_ENABLE_MPS_FALLBACK=1” قبل تشغيل الاختبارات:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span class="prompt1"><span class="nv">PYTORCH_ENABLE_MPS_FALLBACK</span><span class="o">=</span><span class="m">1</span><span class="w"> </span>pytest<span class="w"> </span>-k<span class="w"> </span><span class="s2">&quot;array_api&quot;</span><span class="w"> </span>-v</span>
</pre></div></div><p>في وقت الكتابة، يجب أن تنجح جميع اختبارات Scikit-learn، ومع ذلك، فإن السرعة الحسابية ليست بالضرورة أفضل من جهاز CPU.</p>
</section>
<section id="float64">
<h2>ملاحظة حول دعم الجهاز لـ “float64”<a class="headerlink" href="#float64" title="Link to this heading">#</a></h2>
<p>ستقوم بعض العمليات داخل Scikit-learn تلقائيًا بتنفيذ العمليات على القيم ذات الدقة العائمة “float64” لمنع حدوث فيضانات وضمان الدقة (على سبيل المثال، <code class="xref py py-func docutils literal notranslate"><span class="pre">metrics.pairwise.euclidean_distances</span></code>). ومع ذلك، فإن بعض مجموعات مساحات أسماء المصفوفات والأجهزة، مثل “PyTorch on MPS” (راجع قسم “mps_support”)، لا تدعم نوع البيانات “float64”. في هذه الحالات، سيتم الرجوع إلى استخدام نوع البيانات “float32” بدلاً من ذلك. قد يؤدي ذلك إلى حدوث سلوك مختلف (عادةً ما تكون النتائج غير مستقرة عدديًا) مقارنة بعدم استخدام إرسال واجهة برمجة تطبيقات المصفوفة أو استخدام جهاز يدعم “float64”.</p>
</section>
</section>


                </article>
              
              
              
                <footer class="bd-footer-article">
                  <div class="footer-article-items footer-article__inner">
  
    <div class="footer-article-item">
<div class="prev-next-area">
</div></div>
  
</div>
                </footer>
              
              
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
<div
    id="pst-page-navigation-heading-2"
    class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
  </div>
  <nav class="bd-toc-nav page-toc" aria-labelledby="pst-page-navigation-heading-2">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#">دعم واجهة برمجة تطبيقات المصفوفة (تجريبي)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id2">مثال الاستخدام</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pytorch">دعم PyTorch</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id3">الدعم لمدخلات متوافقة مع واجهة برمجة تطبيقات المصفوفة</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id4">أدوات التقدير</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id7">أدوات التقدير الفوقية</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id8">المقاييس</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id9">الأدوات</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id10">نوع قيم الإرجاع والسمات المناسبة</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id11">فحوصات أداة التقدير الشائعة</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#mps">ملاحظة حول دعم جهاز MPS</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#float64">ملاحظة حول دعم الجهاز لـ “float64”</a></li>
</ul>
</li>
</ul>

  </nav></div>

  <div class="sidebar-secondary-item">

  <div class="tocsection sourcelink">
    <a href="../_sources/modules/array_api.rst.txt">
      <i class="fa-solid fa-file-lines"></i> Show Source
    </a>
  </div>
</div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item">

  <p class="copyright">
    
      © Copyright 2007 - 2024, scikit-learn developers (BSD License).
      <br/>
    
  </p>
</div>
      
    </div>
  
  
  
</div>

  </footer>
  </body>
</html>