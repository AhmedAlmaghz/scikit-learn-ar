
<!DOCTYPE html>


<html lang="en" data-content_root="../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />
<meta property="og:title" content="3.1. التدقيق المتقاطع: تقييم أداء أداة التقدير" />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://scikit-learn/stable/modules/cross_validation.html" />
<meta property="og:site_name" content="scikit-learn" />
<meta property="og:description" content="تعلم معلمات دالة التنبؤ واختبارها على نفس البيانات هو خطأ منهجي: فالنموذج الذي يكرر فقط تسميات العينات التي رآها للتو سيحصل على نتيجة مثالية ولكنه سيفشل في التنبؤ بأي شيء مفيد على البيانات التي لم ..." />
<meta property="og:image" content="https://scikit-learn/stable/_images/sphx_glr_plot_cv_indices_007.png" />
<meta property="og:image:alt" content="scikit-learn" />
<meta name="description" content="تعلم معلمات دالة التنبؤ واختبارها على نفس البيانات هو خطأ منهجي: فالنموذج الذي يكرر فقط تسميات العينات التي رآها للتو سيحصل على نتيجة مثالية ولكنه سيفشل في التنبؤ بأي شيء مفيد على البيانات التي لم ..." />

    <title>3.1. التدقيق المتقاطع: تقييم أداء أداة التقدير &#8212; scikit-learn 1.5.1 documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="../_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=a746c00c" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../_static/plot_directive.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery.css?v=d2d258e8" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery-binder.css?v=f4aeca0c" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery-dataframe.css?v=2082cf3c" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery-rendered-html.css?v=1277b6f3" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-design.min.css?v=95c83b7e" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/colors.css?v=cc94ab7d" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/custom.css?v=e4cb1417" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="../_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>

    <script src="../_static/documentation_options.js?v=44dfd65d"></script>
    <script src="../_static/doctools.js?v=9a2dae69"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../_static/copybutton.js?v=97f0b27d"></script>
    <script src="../_static/design-tabs.js?v=f930bc37"></script>
    <script data-domain="scikit-learn.org" defer="defer" src="https://views.scientific-python.org/js/script.js"></script>
    <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'modules/cross_validation';</script>
    <script>
        DOCUMENTATION_OPTIONS.theme_version = '0.15.4';
        DOCUMENTATION_OPTIONS.theme_switcher_json_url = 'https://scikit-learn.org/dev/_static/versions.json';
        DOCUMENTATION_OPTIONS.theme_switcher_version_match = '1.5.1';
        DOCUMENTATION_OPTIONS.show_version_warning_banner = true;
        </script>
    <script src="../_static/scripts/dropdown.js?v=e2048168"></script>
    <script src="../_static/scripts/version-switcher.js?v=a6dd8357"></script>
    <link rel="icon" href="../_static/favicon.ico"/>
    <link rel="author" title="About these documents" href="../about.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="3.4. البحث الشامل عن الشبكة" href="grid_search.html" />
    <link rel="prev" title="3. اختيار النموذج وتقييمه" href="../model_selection.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
<div class="bd-header__inner bd-page-width">
  <button class="pst-navbar-icon sidebar-toggle primary-toggle" aria-label="Site navigation">
    <span class="fa-solid fa-bars"></span>
  </button>
  
  
  <div class=" navbar-header-items__start">
    
      <div class="navbar-item">

  
    
  

<a class="navbar-brand logo" href="../index.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../_static/scikit-learn-logo-small.png" class="logo__image only-light" alt="scikit-learn homepage"/>
    <script>document.write(`<img src="../_static/scikit-learn-logo-small.png" class="logo__image only-dark" alt="scikit-learn homepage"/>`);</script>
  
  
</a></div>
    
  </div>
  
  <div class=" navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item ">
  <a class="nav-link nav-internal" href="../install.html">
    Install
  </a>
</li>


<li class="nav-item current active">
  <a class="nav-link nav-internal" href="../user_guide.html">
    مرجع المستخدم
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../api/index.html">
    API
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../auto_examples/index.html">
    Examples
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-external" href="https://blog.scikit-learn.org/">
    Community
  </a>
</li>

            <li class="nav-item dropdown">
                <button class="btn dropdown-toggle nav-item" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-controls="pst-nav-more-links">
                    More
                </button>
                <ul id="pst-nav-more-links" class="dropdown-menu">
                    
<li class=" ">
  <a class="nav-link dropdown-item nav-internal" href="../getting_started.html">
    بدء الاستخدام
  </a>
</li>


<li class=" ">
  <a class="nav-link dropdown-item nav-internal" href="../whats_new.html">
    تاريخ الإصدارات
  </a>
</li>


<li class=" ">
  <a class="nav-link dropdown-item nav-internal" href="../glossary.html">
    Glossary
  </a>
</li>


<li class=" ">
  <a class="nav-link dropdown-item nav-external" href="https://scikit-learn.org/dev/developers/index.html">
    Development
  </a>
</li>


<li class=" ">
  <a class="nav-link dropdown-item nav-internal" href="../faq.html">
    FAQ
  </a>
</li>


<li class=" ">
  <a class="nav-link dropdown-item nav-internal" href="../support.html">
    الدعم
  </a>
</li>


<li class=" ">
  <a class="nav-link dropdown-item nav-internal" href="../related_projects.html">
    التعاون مع الأطر الأخرى وتحسينها
  </a>
</li>


<li class=" ">
  <a class="nav-link dropdown-item nav-internal" href="../roadmap.html">
    خارطة الطريق
  </a>
</li>


<li class=" ">
  <a class="nav-link dropdown-item nav-internal" href="../governance.html">
    Governance
  </a>
</li>


<li class=" ">
  <a class="nav-link dropdown-item nav-internal" href="../about.html">
    الحوكمة
  </a>
</li>

                </ul>
            </li>
            
  </ul>
</nav></div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
        <div class="navbar-item navbar-persistent--container">
          

<script>
document.write(`
  <button class="btn btn-sm pst-navbar-icon search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
        </div>
      
      
        <div class="navbar-item">

<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script></div>
      
        <div class="navbar-item"><ul class="navbar-icon-links"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/scikit-learn/scikit-learn" title="GitHub" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-square-github fa-lg" aria-hidden="true"></i>
            <span class="sr-only">GitHub</span></a>
        </li>
</ul></div>
      
        <div class="navbar-item">
<script>
document.write(`
  <div class="version-switcher__container dropdown">
    <button id="pst-version-switcher-button-2"
      type="button"
      class="version-switcher__button btn btn-sm dropdown-toggle"
      data-bs-toggle="dropdown"
      aria-haspopup="listbox"
      aria-controls="pst-version-switcher-list-2"
      aria-label="Version switcher list"
    >
      Choose version  <!-- this text may get changed later by javascript -->
      <span class="caret"></span>
    </button>
    <div id="pst-version-switcher-list-2"
      class="version-switcher__menu dropdown-menu list-group-flush py-0"
      role="listbox" aria-labelledby="pst-version-switcher-button-2">
      <!-- dropdown will be populated by javascript on page load -->
    </div>
  </div>
`);
</script></div>
      
    </div>
    
  </div>
  
  
    <div class="navbar-persistent--mobile">

<script>
document.write(`
  <button class="btn btn-sm pst-navbar-icon search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
    </div>
  

  
    <button class="pst-navbar-icon sidebar-toggle secondary-toggle" aria-label="On this page">
      <span class="fa-solid fa-outdent"></span>
    </button>
  
</div>

    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          
          
            <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item ">
  <a class="nav-link nav-internal" href="../install.html">
    Install
  </a>
</li>


<li class="nav-item current active">
  <a class="nav-link nav-internal" href="../user_guide.html">
    مرجع المستخدم
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../api/index.html">
    API
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../auto_examples/index.html">
    Examples
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-external" href="https://blog.scikit-learn.org/">
    Community
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../getting_started.html">
    بدء الاستخدام
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../whats_new.html">
    تاريخ الإصدارات
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../glossary.html">
    Glossary
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-external" href="https://scikit-learn.org/dev/developers/index.html">
    Development
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../faq.html">
    FAQ
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../support.html">
    الدعم
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../related_projects.html">
    التعاون مع الأطر الأخرى وتحسينها
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../roadmap.html">
    خارطة الطريق
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../governance.html">
    Governance
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../about.html">
    الحوكمة
  </a>
</li>

  </ul>
</nav></div>
          
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item">

<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script></div>
        
          <div class="navbar-item"><ul class="navbar-icon-links"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/scikit-learn/scikit-learn" title="GitHub" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-square-github fa-lg" aria-hidden="true"></i>
            <span class="sr-only">GitHub</span></a>
        </li>
</ul></div>
        
          <div class="navbar-item">
<script>
document.write(`
  <div class="version-switcher__container dropdown">
    <button id="pst-version-switcher-button-3"
      type="button"
      class="version-switcher__button btn btn-sm dropdown-toggle"
      data-bs-toggle="dropdown"
      aria-haspopup="listbox"
      aria-controls="pst-version-switcher-list-3"
      aria-label="Version switcher list"
    >
      Choose version  <!-- this text may get changed later by javascript -->
      <span class="caret"></span>
    </button>
    <div id="pst-version-switcher-list-3"
      class="version-switcher__menu dropdown-menu list-group-flush py-0"
      role="listbox" aria-labelledby="pst-version-switcher-button-3">
      <!-- dropdown will be populated by javascript on page load -->
    </div>
  </div>
`);
</script></div>
        
      </div>
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
<nav class="bd-docs-nav bd-links"
     aria-label="Section Navigation">
  <p class="bd-links__title" role="heading" aria-level="1">Section Navigation</p>
  <div class="bd-toc-item navbar-nav"><ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../supervised_learning.html">1. التعلم الخَلفي</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../unsupervised_learning.html">2. التعلم غير الخاضع للإشراف</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="mixture.html">2.1. نماذج المزيج الغاوسي</a></li>

<li class="toctree-l2"><a class="reference internal" href="manifold.html">2.3. تعلم المنوال</a></li>





<li class="toctree-l2"><a class="reference internal" href="clustering.html">2.9. التجميع</a></li>
<li class="toctree-l2"><a class="reference internal" href="decomposition.html">2.10. تفكيك الإشارات إلى مكونات (مشاكل تحليل المصفوفة)</a></li>


<li class="toctree-l2"><a class="reference internal" href="covariance.html">2.13. التغاير التجريبي</a></li>


<li class="toctree-l2"><a class="reference internal" href="outlier_detection.html">2.16. تناسب غلاف إهليلجي</a></li>










<li class="toctree-l2"><a class="reference internal" href="density.html">2.27. تقدير الكثافة</a></li>


<li class="toctree-l2"><a class="reference internal" href="neural_networks_unsupervised.html">2.30. نماذج الشبكات العصبية (غير الخاضعة للإشراف)</a></li>

</ul>
</details></li>
<li class="toctree-l1 current active has-children"><a class="reference internal" href="../model_selection.html">3. اختيار النموذج وتقييمه</a><details open="open"><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul class="current">
<li class="toctree-l2 current active"><a class="current reference internal" href="#">3.1. التدقيق المتقاطع: تقييم أداء أداة التقدير</a></li>


<li class="toctree-l2"><a class="reference internal" href="grid_search.html">3.4. البحث الشامل عن الشبكة</a></li>


<li class="toctree-l2"><a class="reference internal" href="classification_threshold.html">3.7. تعديل عتبة القرار للتنبؤ بالصنف</a></li>

<li class="toctree-l2"><a class="reference internal" href="model_evaluation.html">3.9. مقاييس الأداء وتقييمها: تقييم جودة التنبؤات كميًا</a></li>
<li class="toctree-l2"><a class="reference internal" href="learning_curve.html">3.10. منحنيات التحقق: رسم الدرجات لتقييم النماذج</a></li>
</ul>
</details></li>
<li class="toctree-l1"><a class="reference internal" href="../inspection.html">4. التفتيش</a></li>
<li class="toctree-l1"><a class="reference internal" href="../visualizations.html">5. التمثيل المرئي</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../data_transforms.html">6. تحويلات مجموعة البيانات</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="compose.html">6.1. خطوط الأنابيب ومقدّرات المُركّبات</a></li>


<li class="toctree-l2"><a class="reference internal" href="feature_extraction.html">6.4. استخراج الخصائص</a></li>


<li class="toctree-l2"><a class="reference internal" href="preprocessing.html">6.7. معالجة البيانات الأولية</a></li>




<li class="toctree-l2"><a class="reference internal" href="impute.html">6.12. إكمال القيم المفقودة</a></li>






<li class="toctree-l2"><a class="reference internal" href="unsupervised_reduction.html">6.19. PCA: التحليل التكويني الرئيسي</a></li>


<li class="toctree-l2"><a class="reference internal" href="random_projection.html">6.22. الإسقاط العشوائي</a></li>
<li class="toctree-l2"><a class="reference internal" href="kernel_approximation.html">6.23. طريقة Nystroem لتقريب النواة</a></li>




<li class="toctree-l2"><a class="reference internal" href="metrics.html">6.28. مقاييس الاقتران، الألفة والنواة</a></li>
<li class="toctree-l2"><a class="reference internal" href="preprocessing_targets.html">6.29. تحويل هدف التنبؤ (<code class="docutils literal notranslate"><span class="pre">y</span></code>)</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../datasets.html">7. مرافق تحميل مجموعة البيانات</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../datasets/toy_dataset.html">7.1. مجموعات البيانات التجريبية</a></li>
<li class="toctree-l2"><a class="reference internal" href="../datasets/real_world.html">7.2. مجموعات البيانات من العالم الحقيقي</a></li>
<li class="toctree-l2"><a class="reference internal" href="../datasets/sample_generators.html">7.3. المجموعات البيانات المولدة</a></li>
<li class="toctree-l2"><a class="reference internal" href="../datasets/loading_other_datasets.html">7.4. أمثلة</a></li>




</ul>
</details></li>
<li class="toctree-l1"><a class="reference internal" href="../computing.html">8. الحوسبة باستخدام scikit-learn</a></li>
<li class="toctree-l1"><a class="reference internal" href="../model_persistence.html">9. نظرة عامة على سير العمل</a></li>




<li class="toctree-l1"><a class="reference internal" href="../common_pitfalls.html">14. المعالجة المسبقة غير المتسقة</a></li>

<li class="toctree-l1"><a class="reference internal" href="../dispatching.html">16. التشغيل التلقائي</a></li>
<li class="toctree-l1"><a class="reference internal" href="../machine_learning_map.html">17. اختيار المحلل المناسب</a></li>
<li class="toctree-l1"><a class="reference internal" href="../presentations.html">18. الموارد الخارجية، الفيديوهات، والمحاضرات</a></li>
</ul>
</div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">



<nav aria-label="Breadcrumb" class="d-print-none">
  <ul class="bd-breadcrumbs">
    
    <li class="breadcrumb-item breadcrumb-home">
      <a href="../index.html" class="nav-link" aria-label="Home">
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
    
    <li class="breadcrumb-item"><a href="../user_guide.html" class="nav-link">مرجع المستخدم</a></li>
    
    
    <li class="breadcrumb-item"><a href="../model_selection.html" class="nav-link"><span class="section-number">3. </span>اختيار النموذج وتقييمه</a></li>
    
    <li class="breadcrumb-item active" aria-current="page"><span...</li>
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="id1">
<h1><span class="section-number">3.1. </span>التدقيق المتقاطع: تقييم أداء أداة التقدير<a class="headerlink" href="#id1" title="Link to this heading">#</a></h1>
<p>تعلم معلمات دالة التنبؤ واختبارها على نفس البيانات هو خطأ منهجي: فالنموذج الذي يكرر فقط تسميات العينات التي رآها للتو سيحصل على نتيجة مثالية ولكنه سيفشل في التنبؤ بأي شيء مفيد على البيانات التي لم يسبق رؤيتها. يُطلق على هذا الوضع اسم <strong>الإفراط في التكييف</strong>.</p>
<p>لتجنب ذلك، من الشائع عند إجراء تجربة تعلم آلي (مُشرف) الاحتفاظ بجزء من البيانات المتاحة كمجموعة <strong>اختبار</strong> <code class="docutils literal notranslate"><span class="pre">X_test,</span> <span class="pre">y_test</span></code>.</p>
<p>تجدر الإشارة إلى أن كلمة “تجربة” لا يقصد بها الاستخدام الأكاديمي فقط، لأن التعلم الآلي غالبًا ما يبدأ بشكل تجريبي حتى في الإعدادات التجارية.</p>
<p>فيما يلي مخطط تدفق لسير عمل التحقق المتقاطع النموذجي في تدريب النموذج. يمكن تحديد أفضل المعلمات من خلال تقنيات “البحث الشبكي” &lt;grid_search&gt;`.</p>
<p>في سكيت-ليرن، يمكن إجراء تقسيم عشوائي إلى مجموعات تدريب واختبار بسرعة باستخدام دالة المساعدة <code class="docutils literal notranslate"><span class="pre">train_test_split</span></code>.</p>
<p>دعنا نحمل مجموعة بيانات Iris لتناسب آلة المتجهات الداعمة الخطية عليها:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>&gt;&gt;&gt; استيراد نومبي كالنومبي
&gt;&gt;&gt; من sklearn.model_selection استيراد train_test_split
&gt;&gt;&gt; من sklearn استيراد مجموعات البيانات
&gt;&gt;&gt; من sklearn استيراد SVM

&gt;&gt;&gt; X، y = datasets.load_iris (return_X_y = True)
&gt;&gt;&gt; X.shape، y.shape
((150، 4)، (150،))
</pre></div>
</div>
<p>الآن يمكننا أخذ عينة من مجموعة التدريب بسرعة مع الاحتفاظ بنسبة 40% من البيانات لاختبار (تقييم) مصنفنا:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>&gt;&gt;&gt; X_train، X_test، y_train، y_test = train_test_split (
... X، y، test_size = 0.4، random_state = 0)

&gt;&gt;&gt; X_train.shape، y_train.shape
((90، 4)، (90،))
&gt;&gt;&gt; X_test.shape، y_test.shape
((60، 4)، (60،))

&gt;&gt;&gt; clf = svm.SVC (kernel = &#39;linear&#39;، C = 1).fit (X_train، y_train)
&gt;&gt;&gt; clf.score (X_test، y_test)
0.96 ...
</pre></div>
</div>
<p>عند تقييم الإعدادات المختلفة (“المعلمات”) لأدوات التقدير، مثل إعداد “C” الذي يجب تعيينه يدويًا لآلة المتجهات الداعمة، لا يزال هناك خطر الإفراط في التكييف <em>على مجموعة الاختبار</em> لأن المعلمات يمكن ضبطها حتى تعمل أداة التقدير بشكل مثالي. بهذه الطريقة، يمكن “تسريب” معرفة مجموعة الاختبار إلى النموذج وقد لا تعكس مقاييس التقييم بعد الآن أداء التعميم.</p>
<p>لحل هذه المشكلة، يمكن الاحتفاظ بجزء آخر من مجموعة البيانات كمجموعة “تحقق” بحيث يستمر التدريب على مجموعة التدريب، ثم يتم إجراء التقييم على مجموعة التحقق، وعندما تبدو التجربة ناجحة، يمكن إجراء التقييم النهائي على مجموعة الاختبار.</p>
<p>ومع ذلك، من خلال تقسيم البيانات المتاحة إلى ثلاث مجموعات، فإننا نخفض بشكل كبير عدد العينات التي يمكن استخدامها لتعلم النموذج، وقد تعتمد النتائج على اختيار عشوائي معين لمجموعة (التدريب، التحقق).</p>
<p>حل هذه المشكلة هو إجراء يسمى
<a class="reference external" href="https://en.wikipedia.org/wiki/Cross-validation_(statistics)">التدقيق المتقاطع</a>
(CV اختصارًا). لا تزال هناك حاجة إلى الاحتفاظ بمجموعة اختبار منفصلة للتقييم النهائي، ولكن لم تعد هناك حاجة إلى مجموعة التحقق عند إجراء CV.</p>
<p>في النهج الأساسي، المسمى CV بطي <em>k</em>، يتم تقسيم مجموعة التدريب إلى <em>k</em> مجموعات أصغر (يتم وصف النهج الأخرى أدناه، ولكنها تتبع نفس المبادئ بشكل عام). يتم اتباع الإجراء التالي لكل من <em>k</em> “طي”:</p>
<ul class="simple">
<li><p>يتم تدريب نموذج باستخدام <span class="math notranslate nohighlight">\(k-1\)</span> من الطيات كبيانات تدريب؛</p></li>
<li><p>يتم التحقق من صحة النموذج الناتج على الجزء المتبقي من البيانات (أي أنه يستخدم كمجموعة اختبار لحساب مقياس الأداء مثل الدقة).</p></li>
</ul>
<p>مقياس الأداء الذي يبلغ عنه التحقق المتقاطع بطي <em>k</em> هو متوسط القيم المحسوبة في الحلقة. يمكن أن يكون هذا النهج مكلفًا من الناحية الحسابية، ولكنه لا يهدر الكثير من البيانات (كما هو الحال عند تثبيت مجموعة تحقق تعسفية)، وهي ميزة رئيسية في المشكلات مثل الاستدلال العكسي حيث يكون عدد العينات صغيرًا جدًا.</p>
<p>حساب المقاييس المعتمدة على التدقيق المتقاطع
أبسط طريقة لاستخدام التحقق المتقاطع هي استدعاء دالة المساعدة <code class="xref py py-func docutils literal notranslate"><span class="pre">cross_val_score</span></code> على المحلل والمجموعة البيانات.</p>
<p>يوضح المثال التالي كيفية تقدير دقة آلة المتجهات الداعمة ذات النواة الخطية على مجموعة بيانات Iris من خلال تقسيم البيانات، وتناسب نموذج وحساب النتيجة 5 مرات متتالية (مع تقسيمات مختلفة في كل مرة):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">sklearn.model_selection</span> <span class="kn">import</span> <span class="n">cross_val_score</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">clf</span> <span class="o">=</span> <span class="n">svm</span><span class="o">.</span><span class="n">SVC</span><span class="p">(</span><span class="n">kernel</span><span class="o">=</span><span class="s1">&#39;linear&#39;</span><span class="p">,</span> <span class="n">C</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">42</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">scores</span> <span class="o">=</span> <span class="n">cross_val_score</span><span class="p">(</span><span class="n">clf</span><span class="p">,</span> <span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">cv</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">scores</span>
<span class="go">array([0.96..., 1. , 0.96..., 0.96..., 1. ])</span>
</pre></div>
</div>
<p>وبالتالي، فإن متوسط النتيجة والانحراف المعياري هما:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%0.2f</span><span class="s2"> accuracy with a standard deviation of </span><span class="si">%0.2f</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">scores</span><span class="o">.</span><span class="n">mean</span><span class="p">(),</span> <span class="n">scores</span><span class="o">.</span><span class="n">std</span><span class="p">()))</span>
<span class="go">0.98 accuracy with a standard deviation of 0.02</span>
</pre></div>
</div>
<p>بشكل افتراضي، تكون النتيجة المحسوبة في كل تكرار CV هي طريقة “النتيجة”
من المحلل. من الممكن تغيير هذا باستخدام
معلمة التسجيل:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">sklearn</span> <span class="kn">import</span> <span class="n">metrics</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">scores</span> <span class="o">=</span> <span class="n">cross_val_score</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">clf</span><span class="p">,</span> <span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">cv</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">scoring</span><span class="o">=</span><span class="s1">&#39;f1_macro&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">scores</span>
<span class="go">array([0.96..., 1.  ..., 0.96..., 0.96..., 1.        ])</span>
</pre></div>
</div>
<p>راجع <span class="xref std std-ref">scoring_parameter</span> للحصول على التفاصيل.
في حالة مجموعة بيانات Iris، تكون العينات متوازنة عبر فئات الهدف، وبالتالي فإن الدقة وF1-score متساويان تقريبًا.</p>
<p>عندما تكون حجة “cv” عددًا صحيحًا، يستخدم <code class="xref py py-func docutils literal notranslate"><span class="pre">cross_val_score</span></code>
استراتيجيات <code class="xref py py-class docutils literal notranslate"><span class="pre">KFold</span></code> أو <code class="xref py py-class docutils literal notranslate"><span class="pre">StratifiedKFold</span></code> بشكل افتراضي، ويتم استخدام الأخير
إذا كان المحلل مشتقًا من <code class="xref py py-class docutils literal notranslate"><span class="pre">ClassifierMixin</span></code>.</p>
<p>من الممكن أيضًا استخدام استراتيجيات التحقق من صحة متقاطعة أخرى عن طريق تمرير برنامج تقسيم التحقق من صحة متقاطع بدلاً من ذلك، على سبيل المثال:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">sklearn.model_selection</span> <span class="kn">import</span> <span class="n">ShuffleSplit</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n_samples</span> <span class="o">=</span> <span class="n">X</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cv</span> <span class="o">=</span> <span class="n">ShuffleSplit</span><span class="p">(</span><span class="n">n_splits</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">test_size</span><span class="o">=</span><span class="mf">0.3</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cross_val_score</span><span class="p">(</span><span class="n">clf</span><span class="p">,</span> <span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">cv</span><span class="o">=</span><span class="n">cv</span><span class="p">)</span>
<span class="go">array([0.977..., 0.977..., 1.  ..., 0.955..., 1.        ])</span>
</pre></div>
</div>
<p>الخيار الآخر هو استخدام iterable ينتج تقسيمات (train، test) كمصفوفات من
الفهارس، على سبيل المثال:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">custom_cv_2folds</span><span class="p">(</span><span class="n">X</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">n</span> <span class="o">=</span> <span class="n">X</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="gp">... </span>    <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span>
<span class="gp">... </span>    <span class="k">while</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="mi">2</span><span class="p">:</span>
<span class="gp">... </span>        <span class="n">idx</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="n">n</span> <span class="o">*</span> <span class="p">(</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span><span class="p">,</span> <span class="n">n</span> <span class="o">*</span> <span class="n">i</span> <span class="o">/</span> <span class="mi">2</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">int</span><span class="p">)</span>
<span class="gp">... </span>        <span class="k">yield</span> <span class="n">idx</span><span class="p">,</span> <span class="n">idx</span>
<span class="gp">... </span>        <span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">custom_cv</span> <span class="o">=</span> <span class="n">custom_cv_2folds</span><span class="p">(</span><span class="n">X</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cross_val_score</span><span class="p">(</span><span class="n">clf</span><span class="p">,</span> <span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">cv</span><span class="o">=</span><span class="n">custom_cv</span><span class="p">)</span>
<span class="go">array([1.        , 0.973...])</span>
</pre></div>
</div>
<details class="sd-sphinx-override sd-dropdown sd-card sd-mb-3" id="تحويل-البيانات-مع-البيانات-المحجوزة">
<summary class="sd-summary-title sd-card-header">
<span class="sd-summary-text">تحويل البيانات مع البيانات المحجوزة<a class="headerlink" href="#تحويل-البيانات-مع-البيانات-المحجوزة" title="Link to this dropdown">#</a></span><span class="sd-summary-state-marker sd-summary-chevron-right"><svg version="1.1" width="1.5em" height="1.5em" class="sd-octicon sd-octicon-chevron-right" viewBox="0 0 24 24" aria-hidden="true"><path d="M8.72 18.78a.75.75 0 0 1 0-1.06L14.44 12 8.72 6.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018l6.25 6.25a.75.75 0 0 1 0 1.06l-6.25 6.25a.75.75 0 0 1-1.06 0Z"></path></svg></span></summary><div class="sd-summary-content sd-card-body docutils">
<p class="sd-card-text">كما أنه من المهم اختبار أداة التنبؤ على البيانات المحجوزة من
التدريب، فإن المعالجة المسبقة (مثل التوحيد، واختيار الميزات، وما إلى ذلك)
وتحويلات البيانات المماثلة <a class="reference internal" href="../data_transforms.html#data-transforms"><span class="std std-ref">data transformations</span></a> يجب
أن تتعلم أيضًا من مجموعة بيانات التدريب وتطبق على البيانات المحجوزة للتنبؤ:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">sklearn</span> <span class="kn">import</span> <span class="n">preprocessing</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">X_train</span><span class="p">,</span> <span class="n">X_test</span><span class="p">,</span> <span class="n">y_train</span><span class="p">,</span> <span class="n">y_test</span> <span class="o">=</span> <span class="n">train_test_split</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">test_size</span><span class="o">=</span><span class="mf">0.4</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">scaler</span> <span class="o">=</span> <span class="n">preprocessing</span><span class="o">.</span><span class="n">StandardScaler</span><span class="p">()</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_train</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">X_train_transformed</span> <span class="o">=</span> <span class="n">scaler</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">X_train</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">clf</span> <span class="o">=</span> <span class="n">svm</span><span class="o">.</span><span class="n">SVC</span><span class="p">(</span><span class="n">C</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_train_transformed</span><span class="p">,</span> <span class="n">y_train</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">X_test_transformed</span> <span class="o">=</span> <span class="n">scaler</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">X_test</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">clf</span><span class="o">.</span><span class="n">score</span><span class="p">(</span><span class="n">X_test_transformed</span><span class="p">,</span> <span class="n">y_test</span><span class="p">)</span>
<span class="go">0.9333...</span>
</pre></div>
</div>
<p class="sd-card-text">يجعل <code class="xref py py-class docutils literal notranslate"><span class="pre">Pipeline</span></code> من السهل تكوين
المحللون، وتوفير هذا السلوك في ظل التحقق من صحة متقاطعة:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">sklearn.pipeline</span> <span class="kn">import</span> <span class="n">make_pipeline</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">clf</span> <span class="o">=</span> <span class="n">make_pipeline</span><span class="p">(</span><span class="n">preprocessing</span><span class="o">.</span><span class="n">StandardScaler</span><span class="p">(),</span> <span class="n">svm</span><span class="o">.</span><span class="n">SVC</span><span class="p">(</span><span class="n">C</span><span class="o">=</span><span class="mi">1</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cross_val_score</span><span class="p">(</span><span class="n">clf</span><span class="p">,</span> <span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">cv</span><span class="o">=</span><span class="n">cv</span><span class="p">)</span>
<span class="go">array([0.977..., 0.933..., 0.955..., 0.933..., 0.977...])</span>
</pre></div>
</div>
<p class="sd-card-text">راجع <span class="xref std std-ref">combining_estimators</span>.</p>
</div>
</details><section id="cross-validate">
<span id="multimetric-cross-validation"></span><h2><span class="section-number">3.1.1. </span>دالة cross_validate وتقييم المتري المتعدد<a class="headerlink" href="#cross-validate" title="Link to this heading">#</a></h2>
<p>تختلف دالة <code class="xref py py-func docutils literal notranslate"><span class="pre">cross_validate</span></code> عن <code class="xref py py-func docutils literal notranslate"><span class="pre">cross_val_score</span></code> في
طريقتان:</p>
<ul class="simple">
<li><p>يسمح بتحديد مقاييس متعددة للتقييم.</p></li>
<li><p>يعيد قاموسًا يحتوي على أوقات التثبيت والنتيجة
(وبشكل اختياري درجات التدريب، والمحللون المناسبين، وفصل التدريب-الاختبار
المؤشرات) بالإضافة إلى النتيجة الاختبارية.</p></li>
</ul>
<p>بالنسبة لتقييم المتري الفردي، حيث تكون معلمة التسجيل سلسلة أو
قابل للاستدعاء أو لا شيء، ستكون المفاتيح - <code class="docutils literal notranslate"><span class="pre">['test_score',</span> <span class="pre">'fit_time',</span> <span class="pre">'score_time']</span></code></p>
<p>وبالنسبة لتقييم المتري المتعدد، تكون قيمة الإرجاع عبارة عن قاموس بالمفاتيح التالية -
<code class="docutils literal notranslate"><span class="pre">['test_&lt;scorer1_name&gt;',</span> <span class="pre">'test_&lt;scorer2_name&gt;',</span> <span class="pre">'test_&lt;scorer...&gt;',</span> <span class="pre">'fit_time',</span> <span class="pre">'score_time']</span></code></p>
<p>يتم تعيين <code class="docutils literal notranslate"><span class="pre">return_train_score</span></code> إلى <code class="docutils literal notranslate"><span class="pre">False</span></code> بشكل افتراضي لتوفير وقت الحساب.
لتقييم الدرجات على مجموعة التدريب أيضًا، يجب تعيينها على
<code class="docutils literal notranslate"><span class="pre">True</span></code>. يمكنك أيضًا الاحتفاظ بالمحلل المناسب على كل مجموعة تدريب عن طريق
تعيين <code class="docutils literal notranslate"><span class="pre">return_estimator=True</span></code>. وبالمثل، يمكنك تعيين
<code class="docutils literal notranslate"><span class="pre">return_indices=True</span></code> للاحتفاظ بالمؤشرات التدريب والاختبار المستخدمة لتقسيم
مجموعة البيانات إلى مجموعات بيانات التدريب والاختبار لكل تقسيم cv.</p>
<p>يمكن تحديد المقاييس المتعددة إما على أنها قائمة أو مجموعة أو مجموعة من
أسماء المسجلين المحددين مسبقًا:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">sklearn.model_selection</span> <span class="kn">import</span> <span class="n">cross_validate</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">sklearn.metrics</span> <span class="kn">import</span> <span class="n">recall_score</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">scoring</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;precision_macro&#39;</span><span class="p">,</span> <span class="s1">&#39;recall_macro&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">clf</span> <span class="o">=</span> <span class="n">svm</span><span class="o">.</span><span class="n">SVC</span><span class="p">(</span><span class="n">kernel</span><span class="o">=</span><span class="s1">&#39;linear&#39;</span><span class="p">,</span> <span class="n">C</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">scores</span> <span class="o">=</span> <span class="n">cross_validate</span><span class="p">(</span><span class="n">clf</span><span class="p">,</span> <span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">scoring</span><span class="o">=</span><span class="n">scoring</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">sorted</span><span class="p">(</span><span class="n">scores</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
<span class="go">[&#39;fit_time&#39;, &#39;score_time&#39;, &#39;test_precision_macro&#39;, &#39;test_recall_macro&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">scores</span><span class="p">[</span><span class="s1">&#39;test_recall_macro&#39;</span><span class="p">]</span>
<span class="go">array([0.96..., 1.  ..., 0.96..., 0.96..., 1.        ])</span>
</pre></div>
</div>
<p>أو كقاموس يرسم اسم المسجل إلى دالة تسجيل محددة مسبقًا أو مخصصة:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">sklearn.metrics</span> <span class="kn">import</span> <span class="n">make_scorer</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">scoring</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;prec_macro&#39;</span><span class="p">:</span> <span class="s1">&#39;precision_macro&#39;</span><span class="p">,</span>
<span class="gp">... </span>           <span class="s1">&#39;rec_macro&#39;</span><span class="p">:</span> <span class="n">make_scorer</span><span class="p">(</span><span class="n">recall_score</span><span class="p">,</span> <span class="n">average</span><span class="o">=</span><span class="s1">&#39;macro&#39;</span><span class="p">)}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">scores</span> <span class="o">=</span> <span class="n">cross_validate</span><span class="p">(</span><span class="n">clf</span><span class="p">,</span> <span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">scoring</span><span class="o">=</span><span class="n">scoring</span><span class="p">,</span>
<span class="gp">... </span>                        <span class="n">cv</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">return_train_score</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">sorted</span><span class="p">(</span><span class="n">scores</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
<span class="go">[&#39;fit_time&#39;, &#39;score_time&#39;, &#39;test_prec_macro&#39;, &#39;test_rec_macro&#39;,</span>
<span class="go"> &#39;train_prec_macro&#39;, &#39;train_rec_macro&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">scores</span><span class="p">[</span><span class="s1">&#39;train_rec_macro&#39;</span><span class="p">]</span>
<span class="go">array([0.97..., 0.97..., 0.99..., 0.98..., 0.98...])</span>
</pre></div>
</div>
<p>فيما يلي مثال على استخدام <code class="docutils literal notranslate"><span class="pre">cross_validate</span></code> باستخدام مقياس واحد:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">scores</span> <span class="o">=</span> <span class="n">cross_validate</span><span class="p">(</span><span class="n">clf</span><span class="p">,</span> <span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span>
<span class="gp">... </span>                        <span class="n">scoring</span><span class="o">=</span><span class="s1">&#39;precision_macro&#39;</span><span class="p">,</span> <span class="n">cv</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span>
<span class="gp">... </span>                        <span class="n">return_estimator</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">sorted</span><span class="p">(</span><span class="n">scores</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
<span class="go">[&#39;estimator&#39;, &#39;fit_time&#39;, &#39;score_time&#39;, &#39;test_score&#39;]</span>
</pre></div>
</div>
</section>
<section id="id3">
<h2><span class="section-number">3.1.2. </span>الحصول على تنبؤات عن طريق التحقق من صحة متقاطعة<a class="headerlink" href="#id3" title="Link to this heading">#</a></h2>
<p>لدالة <code class="xref py py-func docutils literal notranslate"><span class="pre">cross_val_predict</span></code> واجهة مماثلة لـ <code class="xref py py-func docutils literal notranslate"><span class="pre">cross_val_score</span></code>، ولكنها تعيد، لكل عنصر في الإدخال،
التنبؤ الذي تم الحصول عليه لذلك العنصر عندما كان في مجموعة الاختبار. يمكن فقط
استخدام استراتيجيات التحقق من الصحة المتقاطعة التي تعين جميع العناصر إلى مجموعة اختبار مرة واحدة
(وإلا، يتم إلقاء استثناء).</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>ملاحظة حول الاستخدام غير المناسب لـ cross_val_predict</p>
<p>قد تختلف نتيجة <code class="xref py py-func docutils literal notranslate"><span class="pre">cross_val_predict</span></code> عن تلك
التي تم الحصول عليها باستخدام <code class="xref py py-func docutils literal notranslate"><span class="pre">cross_val_score</span></code> نظرًا لأن العناصر مجمعة بطرق مختلفة.
تقوم دالة <code class="xref py py-func docutils literal notranslate"><span class="pre">cross_val_score</span></code> بإجراء متوسط
عبر طيات التحقق من الصحة المتقاطعة، في حين أن <code class="xref py py-func docutils literal notranslate"><span class="pre">cross_val_predict</span></code> ببساطة
إرجاع التسميات (أو الاحتمالات) من عدة نماذج متميزة. وبالتالي، فإن <code class="xref py py-func docutils literal notranslate"><span class="pre">cross_val_predict</span></code> ليس مقياسًا مناسبًا لخطأ التعميم.</p>
</div>
<dl class="simple">
<dt>دالة <code class="xref py py-func docutils literal notranslate"><span class="pre">cross_val_predict</span></code> مناسبة لما يلي:</dt><dd><ul class="simple">
<li><p>تصور التنبؤات التي تم الحصول عليها من نماذج مختلفة.</p></li>
<li><p>مزج النماذج: عندما يتم استخدام تنبؤات أحد المحللين الخاضعين للإشراف لتدريب
محلل آخر في أساليب التجميع.</p></li>
</ul>
</dd>
</dl>
<p>يتم تقديم برامج تحقق صحة متقاطعة المتاحة في القسم التالي.</p>
<p class="rubric">أمثلة</p>
<ul class="simple">
<li><p><a class="reference internal" href="../auto_examples/model_selection/plot_roc_crossval.html#sphx-glr-auto-examples-model-selection-plot-roc-crossval-py"><span class="std std-ref">Receiver Operating Characteristic (ROC) with cross validation</span></a>،</p></li>
<li><p><a class="reference internal" href="../auto_examples/feature_selection/plot_rfe_with_cross_validation.html#sphx-glr-auto-examples-feature-selection-plot-rfe-with-cross-validation-py"><span class="std std-ref">Recursive feature elimination with cross-validation</span></a>،</p></li>
<li><p><a class="reference internal" href="../auto_examples/model_selection/plot_grid_search_digits.html#sphx-glr-auto-examples-model-selection-plot-grid-search-digits-py"><span class="std std-ref">Custom refit strategy of a grid search with cross-validation</span></a>،</p></li>
<li><p><a class="reference internal" href="../auto_examples/model_selection/plot_grid_search_text_feature_extraction.html#sphx-glr-auto-examples-model-selection-plot-grid-search-text-feature-extraction-py"><span class="std std-ref">Sample pipeline for text feature extraction and evaluation</span></a>،</p></li>
<li><p><a class="reference internal" href="../auto_examples/model_selection/plot_cv_predict.html#sphx-glr-auto-examples-model-selection-plot-cv-predict-py"><span class="std std-ref">Plotting Cross-Validated Predictions</span></a>،</p></li>
<li><p><a class="reference internal" href="../auto_examples/model_selection/plot_nested_cross_validation_iris.html#sphx-glr-auto-examples-model-selection-plot-nested-cross-validation-iris-py"><span class="std std-ref">Nested versus non-nested cross-validation</span></a>.</p></li>
</ul>
<p>برامج تحقق صحة متقاطعة
فيما يلي أقسام تسرد المرافق لإنشاء مؤشرات يمكن استخدامها لإنشاء تقسيمات لمجموعة البيانات وفقًا لاستراتيجيات التحقق من الصلاحية المتقاطعة المختلفة.</p>
<p>عبور التحقق من صحة المؤشرات للبيانات المحددة بشكل مستقل ومتطابق (i.i.d)
افتراض أن بعض البيانات مستقلة ومتطابقة (i.i.d) يعني الافتراض بأن جميع العينات تنبع من نفس العملية التوليدية وأن العملية التوليدية يفترض ألا يكون لها أي سجل للعينات المولدة سابقًا.</p>
<p>يمكن استخدام أدوات التحقق من الصحة المتقاطعة التالية في مثل هذه الحالات.</p>
<p>ملاحظة:</p>
<p>على الرغم من أن البيانات المحددة بشكل مستقل ومتطابق (i.i.d) هي افتراض شائع في نظرية التعلم الآلي، إلا أنه نادرًا ما يحدث في الممارسة العملية. إذا كان المرء يعرف أن العينات تم إنشاؤها باستخدام عملية تعتمد على الوقت، فمن الآمن استخدام مخطط التحقق من الصحة المتقاطع على دراية بالتسلسل الزمني. وبالمثل، إذا كنا نعرف أن للعملية التوليدية هيكل مجموعة (عينات تم جمعها من مواضيع أو تجارب أو أجهزة قياس مختلفة)، فمن الآمن استخدام التحقق من الصحة المتقاطع على مستوى المجموعة.</p>
<p>ك-فولد
تقسم فئة KFold جميع العينات إلى k مجموعات من العينات، تسمى الطيات (إذا كانت k = n، فهذا يعادل استراتيجية “ترك واحد خارجًا”)، بأحجام متساوية (إذا أمكن). يتم تعلم دالة التنبؤ باستخدام k - 1 طيات، ويتم استخدام الطية المتروكة للاختبار.</p>
<p>مثال على التحقق من الصحة المتقاطع 2-fold لمجموعة بيانات تحتوي على 4 عينات:</p>
<p>X = [“a”، “b”، “c”، “d”]</p>
<p>kf = KFold(n_splits=2)</p>
<p>for train، test in kf.split(X):</p>
<p>طباعة (”% s٪s”٪ (train، test))</p>
<p>[2 3] [0 1]</p>
<p>[0 1] [2 3]</p>
<p>فيما يلي توضيح لسلوك التحقق من الصحة المتقاطع. لاحظ أن فئة KFold لا تتأثر بالطبقات أو المجموعات.</p>
<p>يتم تشكيل كل طية بواسطة مصفوفتين: الأولى تتعلق بمجموعة “التدريب”، والثانية بمجموعة “الاختبار”. وبالتالي، يمكن إنشاء مجموعات التدريب/الاختبار باستخدام الفهرسة النيبية:</p>
<p>X = np.array ([[0.، 0.]، [1.، 1.]، [-1.، -1.]، [2.، 2.]])</p>
<p>y = np.array ([0، 1، 0، 1])</p>
<p>X_train، X_test، y_train، y_test = X [train]، X [test]، y [train]، y [test]</p>
<p>كرر K-فولد</p>
<p>تكرر فئة RepeatedKFold K-Fold n مرات. يمكن استخدامه عندما يحتاج المرء إلى تشغيل KFold n مرات، وإنتاج تقسيمات مختلفة في كل تكرار.</p>
<p>مثال على K-Fold 2-fold مكررة مرتين:</p>
<p>X = np.array ([[1، 2]، [3، 4]، [1، 2]، [3، 4]])</p>
<p>random_state = 12883823</p>
<p>rkf = RepeatedKFold(n_splits=2، n_repeats=2، random_state=random_state)</p>
<p>for train، test in rkf.split(X):</p>
<p>طباعة (”% s٪s”٪ (train، test))</p>
<p>[2 3] [0 1]</p>
<p>[0 1] [2 3]</p>
<p>[0 2] [1 3]</p>
<p>[1 3] [0 2]</p>
<p>وبالمثل، تكرر فئة RepeatedStratifiedKFold استراتيجية K-Fold الموزونة n مرات بتعشيش مختلف في كل تكرار.</p>
<p>اترك واحد خارج (LOO)</p>
<p>LeaveOneOut (أو LOO) هو تحقق بسيط من الصحة المتقاطعة. يتم إنشاء كل مجموعة تعلم عن طريق أخذ جميع العينات باستثناء واحدة، ومجموعة الاختبار هي العينة المتروكة. وبالتالي، بالنسبة إلى n عينة، لدينا n مجموعات تدريب و n مجموعات اختبار مختلفة. لا يهدر هذا الإجراء للتحقق من الصحة المتقاطع الكثير من البيانات حيث تتم إزالة عينة واحدة فقط من مجموعة التدريب:</p>
<p>X = [1، 2، 3، 4]</p>
<p>loo = LeaveOneOut()</p>
<p>for train، test in loo.split(X):</p>
<p>طباعة (”% s٪s”٪ (train، test))</p>
<p>[1 2 3] [0]</p>
<p>[0 2 3] [1]</p>
<p>[0 1 3] [2]</p>
<p>[0 1 2] [3]</p>
<p>يجب أن يزن المستخدمون المحتملون لـ LOO لاختيار النماذج بعض التحذيرات المعروفة. عند مقارنته بالتحقق من الصحة المتقاطع K-fold، يقوم المرء ببناء n نماذج من n عينة بدلاً من k نماذج، حيث n &gt; k. علاوة على ذلك، يتم تدريب كل منها على n - 1 عينة بدلاً من (k-1) n / k. في كلا الاتجاهين، طالما أن k ليست كبيرة جدًا وk &lt;n، فإن LOO أكثر تكلفة من الناحية الحسابية من التحقق من الصحة المتقاطع K-fold.</p>
<p>من حيث الدقة، غالبًا ما يؤدي LOO إلى تباين عالٍ كمقدّر لخطأ الاختبار. بديهياً، نظرًا لأن n - 1 من n عينة يتم استخدامها لبناء كل نموذج، فإن النماذج المشتقة من الطيات متطابقة فعليًا مع بعضها البعض ومع النموذج المشتق من مجموعة التدريب بالكامل.</p>
<p>ومع ذلك، إذا كان منحنى التعلم حادًا لحجم التدريب قيد البحث، فقد يبالغ التحقق من الصحة المتقاطع 5 أو 10 في خطأ التعميم.</p>
<p>كقاعدة عامة، يقترح معظم المؤلفين والأدلة التجريبية أن التحقق من الصحة المتقاطع 5 أو 10 يجب أن يكون مفضلًا على LOO.</p>
<p>مراجع</p>
<ul class="simple">
<li><p>&lt;<a class="reference external" href="http://www.faqs.org/faqs/ai-faq/neural-nets/part3/section-12.html">http://www.faqs.org/faqs/ai-faq/neural-nets/part3/section-12.html</a>&gt;؛</p></li>
<li><p>تي هاستي، آر تيبشراني، جي فريدمان، عناصر التعلم الإحصائي، سبرينجر 2009</p></li>
<li><p>إل بريمان، بي سبيكتور، اختيار النموذج الفرعي وتقييمه في الانحدار: حالة X-random، المراجعة الإحصائية الدولية 1992؛</p></li>
<li><p>ر. كوهافي، دراسة للتحقق من الصحة المتقاطع والتمهيد لتقدير الدقة واختيار النموذج، مؤتمر IJCAI الدولي</p></li>
<li><p>ر. بهارات راو، جي فونج، آر روزاليس، حول مخاطر التحقق من الصحة المتقاطع. تقييم تجريبي، SIAM 2008؛</p></li>
<li><p>جي جيمس، دي ويتن، تي هاستي، آر تيبشراني، مقدمة في التعلم الإحصائي، سبرينجر 2013.</p></li>
</ul>
<p>اترك P خارج (LPO)</p>
<p>تتشابه فئة LeavePOut كثيرًا مع فئة LeaveOneOut حيث تقوم بإنشاء جميع مجموعات التدريب/الاختبار الممكنة عن طريق إزالة p عينات من المجموعة الكاملة. بالنسبة إلى n عينة، ينتج عن هذا {n choose p} أزواج التدريب/الاختبار. على عكس LeaveOneOut وKFold، ستتداخل مجموعات الاختبار لـ p &gt; 1.</p>
<p>مثال على Leave-2-Out على مجموعة بيانات تحتوي على 4 عينات:</p>
<p>X = np.ones (4)</p>
<p>lpo = LeavePOut(p=2)</p>
<p>for train، test in lpo.split(X):</p>
<p>طباعة (”% s٪s”٪ (train، test))</p>
<p>[2 3] [0 1]</p>
<p>[1 3] [0 2]</p>
<p>[1 2] [0 3]</p>
<p>[0 3] [1 2]</p>
<p>[0 2] [1 3]</p>
<p>[0 1] [2 3]</p>
<p>التقسيم العشوائي، المعروف أيضًا باسم Shuffle &amp; Split</p>
<p>سينشئ مؤشر ShuffleSplit عددًا محددًا من المستخدمين من تقسيمات مجموعات التدريب/الاختبار المستقلة. يتم خلط العينات أولاً ثم تقسيمها إلى زوج من مجموعات التدريب والاختبار.</p>
<p>من الممكن التحكم في العشوائية لإمكانية إعادة إنتاج النتائج عن طريق البذر الصريح لمولد الأرقام العشوائية “random_state”.</p>
<p>فيما يلي مثال على الاستخدام:</p>
<p>X = np.arange (10)</p>
<p>ss = ShuffleSplit(n_splits=5، test_size=0.25، random_state=0)</p>
<p>for train_index، test_index in ss.split(X):</p>
<p>طباعة (”% s٪s”٪ (train_index، test_index))</p>
<p>[9 1 6 7 3 0 5] [2 8 4]</p>
<p>[2 9 8 0 6 7 4] [3 5 1]</p>
<p>[4 5 1 0 6 9 7] [2 3 8]</p>
<p>[2 7 5 8 0 3 4] [6 1 9]</p>
<p>[4 1 0 6 8 9 3] [5 2 7]</p>
<p>فيما يلي توضيح لسلوك التحقق من الصحة المتقاطع. لاحظ أن فئة ShuffleSplit لا تتأثر بالطبقات أو المجموعات.</p>
<p>لذلك، فإن ShuffleSplit بديل جيد للتحقق من الصحة المتقاطع K-fold الذي يسمح بمزيد من التحكم الدقيق في عدد التكرارات ونسبة العينات على جانبي الانقسام التدريبي/الاختباري.</p>
<p>مؤشرات التحقق من الصحة المتقاطع مع الاسترات طبقة على أساس التسميات</p>
<p>يمكن لبعض مشكلات التصنيف أن تظهر اختلالًا كبيرًا في توزيع فئات الهدف: على سبيل المثال، قد يكون هناك عدة مرات أكثر من العينات السلبية مقارنة بالعينات الإيجابية. في مثل هذه الحالات، يوصى باستخدام الاسترات طبقة كما هو مطبق في StratifiedKFold وStratifiedShuffleSplit لضمان الحفاظ على الترددات النسبية لفئة الهدف تقريبًا في كل طية تدريب وتحقق من الصحة.</p>
<p>ك-فولد الموزون</p>
<p>StratifiedKFold هو تنوع من k-fold الذي يعيد الطيات الموزونة: تحتوي كل مجموعة على نفس النسبة المئوية تقريبًا من عينات كل فئة هدف مثل المجموعة الكاملة.</p>
<p>فيما يلي مثال على التحقق من الصحة المتقاطع 3-fold الموزون على مجموعة بيانات تحتوي على 50 عينة من فئتين غير متوازنتين. نحن نعرض عدد العينات في كل فئة ونقارنها مع KFold:</p>
<p>X، y = np.ones ((50، 1))، np.hstack (([0] * 45، [1] * 5))</p>
<p>skf = StratifiedKFold(n_splits=3)</p>
<p>for train، test in skf.split(X، y):</p>
<p>طباعة (‘التدريب - {} | اختبار - {} ‘. تنسيق (</p>
<p>np.bincount (y [train]، np.bincount (y [test])))</p>
<p>التدريب - [30 3] | الاختبار - [15 2]</p>
<p>التدريب - [30 3] | الاختبار - [15 2]</p>
<p>التدريب - [30 4] | الاختبار - [15 1]</p>
<p>kf = KFold(n_splits=3)</p>
<p>for train، test in kf.split(X، y):</p>
<p>طباعة (‘التدريب - {} | اختبار - {} ‘. تنسيق (</p>
<p>np.bincount (y [train]، np.bincount (y [test])))</p>
<p>التدريب - [28 5] | الاختبار - [17]</p>
<p>التدريب - [28 5] | الاختبار - [17]</p>
<p>التدريب - [34] | الاختبار - [11 5]</p>
<p>يمكننا أن نرى أن فئة StratifiedKFold تحافظ على نسب الفئات (تقريبًا 1/10) في كل من مجموعة التدريب ومجموعة الاختبار.</p>
<p>فيما يلي توضيح لسلوك التحقق من الصحة المتقاطع.</p>
<p>يمكن استخدام RepeatedStratifiedKFold لتكرار استراتيجية K-Fold الموزونة n مرات بتعشيش مختلف في كل تكرار.</p>
<p>تقسيم التبديل الموزون</p>
<p>StratifiedShuffleSplit هو تنوع من ShuffleSplit، والذي يعيد تقسيمات الموزون، أي أنه يقوم بإنشاء تقسيمات عن طريق الحفاظ على نفس النسبة المئوية لكل فئة هدف كما هو الحال في المجموعة الكاملة.</p>
<p>فيما يلي توضيح لسلوك التحقق من الصحة المتقاطع.</p>
<p>تقسيمات الطيات المسبقة التعريف/مجموعات التحقق</p>
<p>بالنسبة لبعض مجموعات البيانات، يوجد بالفعل تقسيم مسبق التعريف للبيانات إلى طية تدريب وتحقق أو إلى عدة طيات تحقق من الصحة المتقاطعة. باستخدام فئة PredefinedSplit، من الممكن استخدام هذه الطيات، على سبيل المثال، عند البحث عن أفضل المعلمات.</p>
<p>على سبيل المثال، عند استخدام مجموعة تحقق، قم بتعيين “test_fold” إلى 0 لجميع العينات التي تعد جزءًا من مجموعة التحقق، وإلى -1 لجميع العينات الأخرى.</p>
<p>مؤشرات التحقق من الصحة المتقاطعة للبيانات المجمعة
يتم كسر افتراض i.i.d إذا أدت عملية التوليد الأساسية إلى مجموعات من العينات المعتمدة.</p>
<p>إن تجميع هذه البيانات خاص بالنطاق. على سبيل المثال، عندما تكون هناك بيانات طبية تم جمعها من مرضى متعددين، مع أخذ عينات متعددة من كل مريض. ومن المرجح أن تعتمد هذه البيانات على المجموعة الفردية. في مثالنا، سيكون معرف المريض لكل عينة هو معرف المجموعة الخاص بها.</p>
<p>في هذه الحالة، نريد أن نعرف ما إذا كان النموذج المدرب على مجموعة معينة من المجموعات يتم تعميمه جيدًا على المجموعات غير المرئية. لقياس ذلك، نحتاج إلى التأكد من أن جميع العينات في طية التحقق من الصحة تأتي من مجموعات غير ممثلة على الإطلاق في طية التدريب المقترنة.</p>
<p>يمكن استخدام برامج تقسيم التحقق من صحة التقاطع التالية للقيام بذلك.</p>
<p>يتم تحديد معرف المجموعة للنماذج عبر معلمة “المجموعات”.</p>
<section id="group-k-fold">
<h3><span class="section-number">3.1.2.1. </span>Group k-fold<a class="headerlink" href="#group-k-fold" title="Link to this heading">#</a></h3>
<p><code class="xref py py-class docutils literal notranslate"><span class="pre">GroupKFold</span></code> هو تباين من k-fold والذي يضمن أن المجموعة نفسها غير ممثلة في كل من مجموعات الاختبار والتدريب. على سبيل المثال، إذا تم الحصول على البيانات من مواضيع مختلفة مع عدة عينات لكل موضوع، وإذا كان النموذج مرنًا بدرجة كافية للتعلم من الميزات المحددة للشخص، فقد يفشل في التعميم على مواضيع جديدة. <code class="xref py py-class docutils literal notranslate"><span class="pre">GroupKFold</span></code> يجعل من الممكن اكتشاف هذا النوع من حالات الإفراط في التكيّف.</p>
<p>تخيل أن لديك ثلاثة مواضيع، لكل منها رقم مرتبط من 1 إلى 3:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">sklearn.model_selection</span> <span class="kn">import</span> <span class="n">GroupKFold</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">X</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">,</span> <span class="mf">2.2</span><span class="p">,</span> <span class="mf">2.4</span><span class="p">,</span> <span class="mf">2.3</span><span class="p">,</span> <span class="mf">4.55</span><span class="p">,</span> <span class="mf">5.8</span><span class="p">,</span> <span class="mf">8.8</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">10</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">y</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="s2">&quot;b&quot;</span><span class="p">,</span> <span class="s2">&quot;b&quot;</span><span class="p">,</span> <span class="s2">&quot;b&quot;</span><span class="p">,</span> <span class="s2">&quot;c&quot;</span><span class="p">,</span> <span class="s2">&quot;c&quot;</span><span class="p">,</span> <span class="s2">&quot;c&quot;</span><span class="p">,</span> <span class="s2">&quot;d&quot;</span><span class="p">,</span> <span class="s2">&quot;d&quot;</span><span class="p">,</span> <span class="s2">&quot;d&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">groups</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">gkf</span> <span class="o">=</span> <span class="n">GroupKFold</span><span class="p">(</span><span class="n">n_splits</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">train</span><span class="p">,</span> <span class="n">test</span> <span class="ow">in</span> <span class="n">gkf</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">groups</span><span class="o">=</span><span class="n">groups</span><span class="p">):</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%s</span><span class="s2"> </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">train</span><span class="p">,</span> <span class="n">test</span><span class="p">))</span>
<span class="go">[0 1 2 3 4 5] [6 7 8 9]</span>
<span class="go">[0 1 2 6 7 8 9] [3 4 5]</span>
<span class="go">[3 4 5 6 7 8 9] [0 1 2]</span>
</pre></div>
</div>
<p>يوجد كل موضوع في طية اختبار مختلفة، ولا يوجد أبدًا نفس الموضوع في الاختبار والتدريب. لاحظ أن الطيات لا تحتوي على نفس الحجم تمامًا بسبب عدم التوازن في البيانات. إذا كان يجب موازنة نسب الفئات عبر الطيات، فإن <code class="xref py py-class docutils literal notranslate"><span class="pre">StratifiedGroupKFold</span></code> هو خيار أفضل.</p>
<p>فيما يلي توضيح لسلوك التحقق من الصحة عبر الدورات.</p>
<figure class="align-center">
<a class="reference external image-reference" href="../auto_examples/model_selection/plot_cv_indices.html"><img alt="../_images/sphx_glr_plot_cv_indices_007.png" src="../_images/sphx_glr_plot_cv_indices_007.png" style="width: 450.0px; height: 225.0px;" />
</a>
</figure>
<p>على غرار <code class="xref py py-class docutils literal notranslate"><span class="pre">KFold</span></code>، ستشكل مجموعات الاختبار من <code class="xref py py-class docutils literal notranslate"><span class="pre">GroupKFold</span></code> تقسيمًا كاملاً لجميع البيانات. على عكس <code class="xref py py-class docutils literal notranslate"><span class="pre">KFold</span></code>، فإن <code class="xref py py-class docutils literal notranslate"><span class="pre">GroupKFold</span></code> ليس عشوائيًا على الإطلاق، في حين أن <code class="xref py py-class docutils literal notranslate"><span class="pre">KFold</span></code> يكون عشوائيًا عندما <code class="docutils literal notranslate"><span class="pre">shuffle=True</span></code>.</p>
</section>
<section id="stratifiedgroupkfold">
<h3><span class="section-number">3.1.2.2. </span>StratifiedGroupKFold<a class="headerlink" href="#stratifiedgroupkfold" title="Link to this heading">#</a></h3>
<p><code class="xref py py-class docutils literal notranslate"><span class="pre">StratifiedGroupKFold</span></code> هو مخطط للتحقق من الصحة عبر الدورات يجمع بين <code class="xref py py-class docutils literal notranslate"><span class="pre">StratifiedKFold</span></code> و:class:<code class="docutils literal notranslate"><span class="pre">GroupKFold</span></code>. الفكرة هي محاولة الحفاظ على توزيع الفئات في كل تقسيم مع الحفاظ على كل مجموعة داخل تقسيم واحد. قد يكون ذلك مفيدًا عندما يكون لديك مجموعة بيانات غير متوازنة بحيث قد يؤدي استخدام <code class="xref py py-class docutils literal notranslate"><span class="pre">GroupKFold</span></code> فقط إلى إنتاج تقسيمات منحرفة.</p>
<p>مثال:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">sklearn.model_selection</span> <span class="kn">import</span> <span class="n">StratifiedGroupKFold</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">X</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">18</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">y</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">*</span> <span class="mi">6</span> <span class="o">+</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="mi">12</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">groups</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">6</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sgkf</span> <span class="o">=</span> <span class="n">StratifiedGroupKFold</span><span class="p">(</span><span class="n">n_splits</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">train</span><span class="p">,</span> <span class="n">test</span> <span class="ow">in</span> <span class="n">sgkf</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">groups</span><span class="o">=</span><span class="n">groups</span><span class="p">):</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%s</span><span class="s2"> </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">train</span><span class="p">,</span> <span class="n">test</span><span class="p">))</span>
<span class="go">[ 0  2  3  4  5  6  7 10 11 15 16 17] [ 1  8  9 12 13 14]</span>
<span class="go">[ 0  1  4  5  6  7  8  9 11 12 13 14] [ 2  3 10 15 16 17]</span>
<span class="go">[ 1  2  3  8  9 10 12 13 14 15 16 17] [ 0  4  5  6  7 11]</span>
</pre></div>
</div>
<details class="sd-sphinx-override sd-dropdown sd-card sd-mb-3" id="ملاحظات-التنفيذ">
<summary class="sd-summary-title sd-card-header">
<span class="sd-summary-text">ملاحظات التنفيذ<a class="headerlink" href="#ملاحظات-التنفيذ" title="Link to this dropdown">#</a></span><span class="sd-summary-state-marker sd-summary-chevron-right"><svg version="1.1" width="1.5em" height="1.5em" class="sd-octicon sd-octicon-chevron-right" viewBox="0 0 24 24" aria-hidden="true"><path d="M8.72 18.78a.75.75 0 0 1 0-1.06L14.44 12 8.72 6.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018l6.25 6.25a.75.75 0 0 1 0 1.06l-6.25 6.25a.75.75 0 0 1-1.06 0Z"></path></svg></span></summary><div class="sd-summary-content sd-card-body docutils">
<ul>
<li><p class="sd-card-text">مع التنفيذ الحالي، لا يكون الخلط الكامل ممكنًا في معظم السيناريوهات. عندما يكون shuffle=True، يحدث ما يلي:</p>
<ol class="arabic simple">
<li><p class="sd-card-text">يتم خلط جميع المجموعات.</p></li>
<li><p class="sd-card-text">يتم فرز المجموعات حسب الانحراف المعياري للفئات باستخدام الفرز المستقر.</p></li>
<li><p class="sd-card-text">يتم فحص المجموعات المرتبة وتعيينها إلى الطيات.</p></li>
</ol>
<p class="sd-card-text">وهذا يعني أنه يتم خلط المجموعات التي لها نفس الانحراف المعياري لتوزيع الفئات فقط، والذي قد يكون مفيدًا عندما تحتوي كل مجموعة على فئة واحدة فقط.</p>
</li>
<li><p class="sd-card-text">يقوم الخوارزمية بشكل جشع بتعيين كل مجموعة إلى واحدة من مجموعات الاختبار n_splits، واختيار مجموعة الاختبار التي تقلل من التباين في توزيع الفئات عبر مجموعات الاختبار. تتقدم عملية تعيين المجموعة من المجموعات ذات أعلى تباين إلى أدنى تباين في تردد الفئات، أي أن المجموعات الكبيرة التي تركز على فئة واحدة أو عدد قليل من الفئات يتم تعيينها أولاً.</p></li>
<li><p class="sd-card-text">هذا التقسيم دون المستوى الأمثل بمعنى أنه قد ينتج تقسيمات غير متوازنة حتى إذا كان من الممكن تحقيق الاستراتيجية المثالية. إذا كان لديك توزيع قريب نسبيًا للفئات في كل مجموعة، فإن استخدام <code class="xref py py-class docutils literal notranslate"><span class="pre">GroupKFold</span></code> أفضل.</p></li>
</ul>
</div>
</details><p>فيما يلي توضيح لسلوك التحقق من الصحة عبر الدورات للمجموعات غير المتساوية:</p>
<figure class="align-center">
<a class="reference external image-reference" href="../auto_examples/model_selection/plot_cv_indices.html"><img alt="../_images/sphx_glr_plot_cv_indices_005.png" src="../_images/sphx_glr_plot_cv_indices_005.png" style="width: 450.0px; height: 225.0px;" />
</a>
</figure>
</section>
<section id="leave-one-group-out">
<h3><span class="section-number">3.1.2.3. </span>Leave One Group Out<a class="headerlink" href="#leave-one-group-out" title="Link to this heading">#</a></h3>
<p><code class="xref py py-class docutils literal notranslate"><span class="pre">LeaveOneGroupOut</span></code> هو مخطط للتحقق من الصحة عبر الدورات حيث يحتفظ كل تقسيم بالعينات التي تنتمي إلى مجموعة محددة واحدة. يتم توفير معلومات المجموعة عبر مصفوفة ترميز مجموعة كل عينة.</p>
<p>وبالتالي، يتم تشكيل كل مجموعة تدريب من جميع العينات باستثناء تلك المتعلقة بمجموعة محددة واحدة. هذا مشابه لـ <code class="xref py py-class docutils literal notranslate"><span class="pre">LeavePGroupsOut</span></code> مع <code class="docutils literal notranslate"><span class="pre">n_groups=1</span></code> ونفس <code class="xref py py-class docutils literal notranslate"><span class="pre">GroupKFold</span></code> مع <code class="docutils literal notranslate"><span class="pre">n_splits</span></code> يساوي عدد التسميات الفريدة التي تم تمريرها إلى معلمة “المجموعات”.</p>
<p>على سبيل المثال، في حالات التجارب المتعددة، يمكن استخدام <code class="xref py py-class docutils literal notranslate"><span class="pre">LeaveOneGroupOut</span></code> لإنشاء تحقق من الصحة عبر الدورات يعتمد على التجارب المختلفة: نقوم بإنشاء مجموعة تدريب باستخدام عينات من جميع التجارب باستثناء واحدة:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">sklearn.model_selection</span> <span class="kn">import</span> <span class="n">LeaveOneGroupOut</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">X</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">70</span><span class="p">,</span> <span class="mi">80</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">y</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">groups</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">logo</span> <span class="o">=</span> <span class="n">LeaveOneGroupOut</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">train</span><span class="p">,</span> <span class="n">test</span> <span class="ow">in</span> <span class="n">logo</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">groups</span><span class="o">=</span><span class="n">groups</span><span class="p">):</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%s</span><span class="s2"> </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">train</span><span class="p">,</span> <span class="n">test</span><span class="p">))</span>
<span class="go">[2 3 4 5 6] [0 1]</span>
<span class="go">[0 1 4 5 6] [2 3]</span>
<span class="go">[0 1 2 3] [4 5 6]</span>
</pre></div>
</div>
<p>هناك تطبيق شائع آخر وهو استخدام معلومات الوقت: على سبيل المثال، يمكن أن تكون المجموعات هي سنة جمع العينات، وبالتالي السماح بالتحقق من الصحة عبر التقسيمات القائمة على الوقت.</p>
</section>
<section id="leave-p-groups-out">
<h3><span class="section-number">3.1.2.4. </span>Leave P Groups Out<a class="headerlink" href="#leave-p-groups-out" title="Link to this heading">#</a></h3>
<p><code class="xref py py-class docutils literal notranslate"><span class="pre">LeavePGroupsOut</span></code> مشابه لـ <code class="xref py py-class docutils literal notranslate"><span class="pre">LeaveOneGroupOut</span></code>، ولكنه يزيل العينات المتعلقة بـ <span class="math notranslate nohighlight">\(P\)</span> groups لكل مجموعة تدريب/اختبار. يتم ترك جميع المجموعات الممكنة من <span class="math notranslate nohighlight">\(P\)</span> groups، مما يعني أن مجموعات الاختبار ستتداخل لـ <span class="math notranslate nohighlight">\(P&gt;1\)</span>.</p>
<p>مثال على ترك 2 مجموعة:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">sklearn.model_selection</span> <span class="kn">import</span> <span class="n">LeavePGroupsOut</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">X</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">y</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">groups</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lpgo</span> <span class="o">=</span> <span class="n">LeavePGroupsOut</span><span class="p">(</span><span class="n">n_groups</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">train</span><span class="p">,</span> <span class="n">test</span> <span class="ow">in</span> <span class="n">lpgo</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">groups</span><span class="o">=</span><span class="n">groups</span><span class="p">):</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%s</span><span class="s2"> </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">train</span><span class="p">,</span> <span class="n">test</span><span class="p">))</span>
<span class="go">[4 5] [0 1 2 3]</span>
<span class="go">[2 3] [0 1 4 5]</span>
<span class="go">[0 1] [2 3 4 5]</span>
</pre></div>
</div>
</section>
<section id="group-shuffle-split">
<h3><span class="section-number">3.1.2.5. </span>Group Shuffle Split<a class="headerlink" href="#group-shuffle-split" title="Link to this heading">#</a></h3>
<p>يتصرف مولد <code class="xref py py-class docutils literal notranslate"><span class="pre">GroupShuffleSplit</span></code> كمزيج من <code class="xref py py-class docutils literal notranslate"><span class="pre">ShuffleSplit</span></code> و:class:<code class="docutils literal notranslate"><span class="pre">LeavePGroupsOut</span></code>، وينشئ تسلسلًا من التقسيمات العشوائية التي يتم فيها الاحتفاظ بمجموعة فرعية من المجموعات لكل تقسيم. يتم إجراء كل تقسيم تدريب/اختبار بشكل مستقل، مما يعني أنه لا توجد علاقة مضمونة بين مجموعات الاختبار المتتالية.</p>
<p>فيما يلي مثال على الاستخدام:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">sklearn.model_selection</span> <span class="kn">import</span> <span class="n">GroupShuffleSplit</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">X</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">,</span> <span class="mf">2.2</span><span class="p">,</span> <span class="mf">2.4</span><span class="p">,</span> <span class="mf">2.3</span><span class="p">,</span> <span class="mf">4.55</span><span class="p">,</span> <span class="mf">5.8</span><span class="p">,</span> <span class="mf">0.001</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">y</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="s2">&quot;b&quot;</span><span class="p">,</span> <span class="s2">&quot;b&quot;</span><span class="p">,</span> <span class="s2">&quot;b&quot;</span><span class="p">,</span> <span class="s2">&quot;c&quot;</span><span class="p">,</span> <span class="s2">&quot;c&quot;</span><span class="p">,</span> <span class="s2">&quot;c&quot;</span><span class="p">,</span> <span class="s2">&quot;a&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">groups</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">4</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">gss</span> <span class="o">=</span> <span class="n">GroupShuffleSplit</span><span class="p">(</span><span class="n">n_splits</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">test_size</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">train</span><span class="p">,</span> <span class="n">test</span> <span class="ow">in</span> <span class="n">gss</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">groups</span><span class="o">=</span><span class="n">groups</span><span class="p">):</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%s</span><span class="s2"> </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">train</span><span class="p">,</span> <span class="n">test</span><span class="p">))</span>
<span class="gp">...</span>
<span class="go">[0 1 2 3] [4 5 6 7]</span>
<span class="go">[2 3 6 7] [0 1 4 5]</span>
<span class="go">[2 3 4 5] [0 1 6 7]</span>
<span class="go">[4 5 6 7] [0 1 2 3]</span>
</pre></div>
</div>
<p>فيما يلي توضيح لسلوك التحقق من الصحة عبر الدورات.</p>
<figure class="align-center">
<a class="reference external image-reference" href="../auto_examples/model_selection/plot_cv_indices.html"><img alt="../_images/sphx_glr_plot_cv_indices_011.png" src="../_images/sphx_glr_plot_cv_indices_011.png" style="width: 450.0px; height: 225.0px;" />
</a>
</figure>
<p>تعد هذه الفئة مفيدة عندما يكون سلوك <code class="xref py py-class docutils literal notranslate"><span class="pre">LeavePGroupsOut</span></code> مرغوبًا، ولكن يكون عدد المجموعات كبيرًا بدرجة كافية بحيث يكون إنشاء جميع التقسيمات الممكنة باستخدام <span class="math notranslate nohighlight">\(P\)</span> groups مكلفًا للغاية. في مثل هذا السيناريو، يوفر <code class="xref py py-class docutils literal notranslate"><span class="pre">GroupShuffleSplit</span></code> عينة عشوائية (مع الاستبدال) من تقسيمات التدريب/الاختبار التي تم إنشاؤها بواسطة <code class="xref py py-class docutils literal notranslate"><span class="pre">LeavePGroupsOut</span></code>.</p>
</section>
</section>
<section id="id4">
<h2><span class="section-number">3.1.3. </span>استخدام برامج التحقق من الصحة عبر الدورات لتقسيم التدريب والاختبار<a class="headerlink" href="#id4" title="Link to this heading">#</a></h2>
<p>قد تكون وظائف التحقق من الصحة عبر الدورات للمجموعات المذكورة أعلاه مفيدة أيضًا لتقسيم مجموعة من البيانات إلى مجموعات فرعية للتدريب والاختبار. لاحظ أن وظيفة الملاءمة <code class="xref py py-func docutils literal notranslate"><span class="pre">train_test_split</span></code> عبارة عن غلاف حول <code class="xref py py-func docutils literal notranslate"><span class="pre">ShuffleSplit</span></code> وبالتالي فهي تسمح فقط بالتقسيم الاستراتيجي (باستخدام تسميات الفئات) ولا يمكنها التعامل مع المجموعات.</p>
<p>لإجراء تقسيم التدريب والاختبار، استخدم المؤشرات الخاصة بمجموعات التدريب والاختبار التي تم إنتاجها بواسطة مخرجات المولد من طريقة <code class="docutils literal notranslate"><span class="pre">split()</span></code> لمقسم التحقق من الصحة عبر الدورات. على سبيل المثال:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">sklearn.model_selection</span> <span class="kn">import</span> <span class="n">GroupShuffleSplit</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">X</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">,</span> <span class="mf">2.2</span><span class="p">,</span> <span class="mf">2.4</span><span class="p">,</span> <span class="mf">2.3</span><span class="p">,</span> <span class="mf">4.55</span><span class="p">,</span> <span class="mf">5.8</span><span class="p">,</span> <span class="mf">0.001</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="s2">&quot;b&quot;</span><span class="p">,</span> <span class="s2">&quot;b&quot;</span><span class="p">,</span> <span class="s2">&quot;b&quot;</span><span class="p">,</span> <span class="s2">&quot;c&quot;</span><span class="p">,</span> <span class="s2">&quot;c&quot;</span><span class="p">,</span> <span class="s2">&quot;c&quot;</span><span class="p">,</span> <span class="s2">&quot;a&quot;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">groups</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">4</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">train_indx</span><span class="p">,</span> <span class="n">test_indx</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">GroupShuffleSplit</span><span class="p">(</span><span class="n">random_state</span><span class="o">=</span><span class="mi">7</span><span class="p">)</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">groups</span><span class="p">)</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">X_train</span><span class="p">,</span> <span class="n">X_test</span><span class="p">,</span> <span class="n">y_train</span><span class="p">,</span> <span class="n">y_test</span> <span class="o">=</span> \
<span class="gp">... </span>    <span class="n">X</span><span class="p">[</span><span class="n">train_indx</span><span class="p">],</span> <span class="n">X</span><span class="p">[</span><span class="n">test_indx</span><span class="p">],</span> <span class="n">y</span><span class="p">[</span><span class="n">train_indx</span><span class="p">],</span> <span class="n">y</span><span class="p">[</span><span class="n">test_indx</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">X_train</span><span class="o">.</span><span class="n">shape</span><span class="p">,</span> <span class="n">X_test</span><span class="o">.</span><span class="n">shape</span>
<span class="go">((6,), (2,))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">np</span><span class="o">.</span><span class="n">unique</span><span class="p">(</span><span class="n">groups</span><span class="p">[</span><span class="n">train_indx</span><span class="p">]),</span> <span class="n">np</span><span class="o">.</span><span class="n">unique</span><span class="p">(</span><span class="n">groups</span><span class="p">[</span><span class="n">test_indx</span><span class="p">])</span>
<span class="go">(array([1, 2, 4]), array([3]))</span>
</pre></div>
</div>
</section>
<section id="cross-validation-of-time-series-data">
<h2><span class="section-number">3.1.4. </span>Cross validation of time series data<a class="headerlink" href="#cross-validation-of-time-series-data" title="Link to this heading">#</a></h2>
<p>تتميز بيانات السلاسل الزمنية بالارتباط بين الملاحظات القريبة في الوقت (<em>autocorrelation</em>). ومع ذلك، تفترض تقنيات التحقق من الصحة عبر الدورات الكلاسيكية مثل <code class="xref py py-class docutils literal notranslate"><span class="pre">KFold</span></code> و:class:<code class="docutils literal notranslate"><span class="pre">ShuffleSplit</span></code> أن العينات مستقلة ومتطابقة في التوزيع، وقد يؤدي ذلك إلى ارتباط غير معقول بين مثيلات التدريب والاختبار (مما يؤدي إلى تقديرات سيئة لخطأ التعميم) في بيانات السلاسل الزمنية. لذلك، من المهم جدًا تقييم نموذجنا لبيانات السلاسل الزمنية على الملاحظات “المستقبلية” الأقل تشابهاً مع تلك المستخدمة لتدريب النموذج. ولتحقيق ذلك، يقدم <code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeriesSplit</span></code> حلاً واحدًا.</p>
<section id="time-series-split">
<h3><span class="section-number">3.1.4.1. </span>Time Series Split<a class="headerlink" href="#time-series-split" title="Link to this heading">#</a></h3>
<p><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeriesSplit</span></code> هو تباين من <em>k-fold</em> والذي يعيد أول <span class="math notranslate nohighlight">\(k\)</span> folds كمجموعة تدريب والطي <span class="math notranslate nohighlight">\((k+1)\)</span> th كمجموعة اختبار. لاحظ أنه على عكس طرق التحقق من الصحة عبر الدورات القياسية، فإن مجموعات التدريب المتعاقبة هي مجموعات فرعية من تلك التي تأتي قبلها.</p>
<p>يضيف هذا الفصل أيضًا جميع البيانات الفائضة إلى أول قسم تدريب، والذي يتم استخدامه دائمًا لتدريب النموذج.</p>
<p>يمكن استخدام هذه الفئة للتحقق من صحة بيانات السلاسل الزمنية التي تتم ملاحظتها بفترات زمنية ثابتة.</p>
<p>مثال على التحقق من الصحة عبر الدورات للسلاسل الزمنية المكونة من 3 تقسيمات على مجموعة بيانات بها 6 عينات:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">sklearn.model_selection</span> <span class="kn">import</span> <span class="n">TimeSeriesSplit</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">X</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tscv</span> <span class="o">=</span> <span class="n">TimeSeriesSplit</span><span class="p">(</span><span class="n">n_splits</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">tscv</span><span class="p">)</span>
<span class="go">TimeSeriesSplit(gap=0, max_train_size=None, n_splits=3, test_size=None)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">train</span><span class="p">,</span> <span class="n">test</span> <span class="ow">in</span> <span class="n">tscv</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">X</span><span class="p">):</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%s</span><span class="s2"> </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">train</span><span class="p">,</span> <span class="n">test</span><span class="p">))</span>
<span class="go">[0 1 2] [3]</span>
<span class="go">[0 1 2 3] [4]</span>
<span class="go">[0 1 2 3 4] [5]</span>
</pre></div>
</div>
<p>فيما يلي توضيح لسلوك التحقق من الصحة عبر الدورات.</p>
<figure class="align-center">
<a class="reference external image-reference" href="../auto_examples/model_selection/plot_cv_indices.html"><img alt="../_images/sphx_glr_plot_cv_indices_013.png" src="../_images/sphx_glr_plot_cv_indices_013.png" style="width: 42.00000000000001px; height: 21.000000000000004px;" />
</a>
</figure>
<p>إذا لم يكن ترتيب البيانات عشوائيًا (على سبيل المثال، إذا كانت العينات ذات التسمية الطبقية نفسها متجاورة)، فقد يكون من الضروري خلطها أولاً للحصول على نتيجة صحيحة للتحقق من الصحة. ومع ذلك، قد يكون العكس صحيحًا إذا لم تكن العينات موزعة بشكل مستقل ومتطابق. على سبيل المثال، إذا كانت العينات المقابلة لمقالات الأخبار، ومرتبة حسب وقت النشر، فإن خلط البيانات سيؤدي على الأرجح إلى نموذج مفرط في التكيف ودرجة تحقق من الصحة منتفخة: فسيتم اختباره على عينات مشابهة بشكل مصطنع (قريبة في الوقت) لعينات التدريب.</p>
<p>تتوفر بعض برامج تشغيل التحقق من الصحة المتقاطع، مثل <code class="xref py py-class docutils literal notranslate"><span class="pre">KFold</span></code>، على خيار مدمج لخلط مؤشرات البيانات قبل تقسيمها. لاحظ ما يلي:</p>
<ul class="simple">
<li><p>تستهلك هذه الطريقة ذاكرة أقل من خلط البيانات مباشرة.</p></li>
<li><p>بشكل افتراضي، لا يحدث أي خلط، بما في ذلك للطي (الاستراتيفي) K للتحقق من الصحة المتقاطع الذي يتم إجراؤه عن طريق تحديد “cv=some_integer” إلى <code class="xref py py-func docutils literal notranslate"><span class="pre">cross_val_score</span></code>، والبحث الشبكي، وما إلى ذلك. ضع في اعتبارك أن <code class="xref py py-func docutils literal notranslate"><span class="pre">train_test_split</span></code> لا يزال يعيد تقسيمًا عشوائيًا.</p></li>
<li><p>يُعيّن معيار “random_state” افتراضيًا إلى “None”، مما يعني أن الخلط سيكون مختلفًا في كل مرة يتم فيها تشغيل “KFold(…, shuffle=True)”. ومع ذلك، سيستخدم “GridSearchCV” نفس الخلط لكل مجموعة من المعلمات التي يتم التحقق من صحتها عن طريق استدعاء واحد لأسلوب “fit”.</p></li>
<li><p>للحصول على نتائج متطابقة لكل تقسيم، قم بتعيين “random_state” إلى رقم صحيح.</p></li>
</ul>
<p>للاطلاع على مزيد من التفاصيل حول كيفية التحكم في العشوائية لبرامج التقسيم المتقاطع وتجنب المشكلات الشائعة، راجع <span class="xref std std-ref">randomness</span>.</p>
</section>
</section>
</section>
<section id="id5">
<h1><span class="section-number">3.2. </span>التحقق من صحة المتقاطع واختيار النموذج<a class="headerlink" href="#id5" title="Link to this heading">#</a></h1>
<p>يمكن أيضًا استخدام برامج تشغيل التحقق من الصحة المتقاطع لأداء اختيار النموذج مباشرةً باستخدام البحث الشبكي لأفضل المعلمات المفرطة للنموذج. هذا هو موضوع القسم التالي: <span class="xref std std-ref">grid_search</span>.</p>
</section>
<section id="permutation-test-score">
<span id="id6"></span><h1><span class="section-number">3.3. </span>نتيجة اختبار التبديل<a class="headerlink" href="#permutation-test-score" title="Link to this heading">#</a></h1>
<p><code class="xref py py-func docutils literal notranslate"><span class="pre">permutation_test_score</span></code> يقدم طريقة أخرى
لتقييم أداء المصنفات. فهو يوفر قيمة p قائمة على التبديل، والتي تمثل مدى احتمال الحصول على أداء المُصنِّف المُلاحظ عن طريق الصدفة. الفرضية الصفرية في هذا الاختبار هي أن المُصنِّف لا يستفيد من أي تبعية إحصائية بين الميزات والعلامات للتنبؤ الصحيح بالبيانات المستبعدة. <code class="xref py py-func docutils literal notranslate"><span class="pre">permutation_test_score</span></code> ينشئ توزيعًا صفريًا عن طريق حساب <code class="docutils literal notranslate"><span class="pre">n_permutations</span></code> تبديلات مختلفة للبيانات. في كل تبديل، يتم خلط العلامات بشكل عشوائي، مما يؤدي إلى إزالة أي تبعية بين الميزات والعلامات. نتيجة p-value
هي نسبة التبديلات التي يكون فيها متوسط درجات التحقق من الصحة المتقاطع التي يحصل عليها النموذج أفضل من نتيجة التحقق من الصحة المتقاطع التي يحصل عليها النموذج باستخدام البيانات الأصلية. للحصول على نتائج موثوقة، يجب أن يكون “n_permutations” عادةً أكبر من 100 و”cv” بين 3-10 طيات.</p>
<p>تقدم قيمة p منخفضة دليلاً على أن مجموعة البيانات تحتوي على تبعية حقيقية
بين الميزات والعلامات وأن المُصنِّف كان قادرًا على الاستفادة من ذلك
للحصول على نتائج جيدة. قد تكون قيمة p المرتفعة بسبب عدم وجود تبعية
بين الميزات والعلامات (لا يوجد اختلاف في قيم الميزات بين الفئات) أو
لأن المُصنِّف لم يتمكن من استخدام التبعية في البيانات. في الحالة
الأخيرة، فإن استخدام مُصنِّف أكثر ملاءمة قادر على الاستفادة من
الهيكل الموجود في البيانات، سيؤدي إلى قيمة p أقل.</p>
<p>يوفر التحقق من الصحة المتقاطع معلومات حول مدى تعميم المُصنِّف جيدًا،
وبالتحديد نطاق أخطاء المُصنِّف المتوقعة. ومع ذلك، فإن المُصنِّف الذي
تم تدريبه على مجموعة بيانات عالية الأبعاد بدون هيكل قد يؤدي
مع ذلك إلى أداء أفضل من المتوقع في التحقق من الصحة المتقاطع، فقط عن
طريق الصدفة. يمكن أن يحدث هذا عادةً مع مجموعات البيانات الصغيرة التي
تحتوي على أقل من بضع مئات من العينات. <code class="xref py py-func docutils literal notranslate"><span class="pre">permutation_test_score</span></code>
يوفر معلومات حول ما إذا كان المُصنِّف قد وجد هيكل فئة حقيقيًا ويمكن أن
يساعد في تقييم أداء المُصنِّف.</p>
<p>من المهم ملاحظة أن هذا الاختبار قد أثبت أنه ينتج قيم p منخفضة حتى إذا
كان هناك هيكل ضعيف فقط في البيانات لأن مجموعات البيانات المقابلة
التي تم تبديلها لا تحتوي على أي هيكل على الإطلاق. لذلك، لا يمكن
لهذا الاختبار سوى إظهار عندما يتفوق النموذج بشكل موثوق على التخمين
العشوائي.</p>
<p>أخيرًا، يتم حساب <code class="xref py py-func docutils literal notranslate"><span class="pre">permutation_test_score</span></code>
باستخدام القوة الغاشمة، ويتم تثبيت “n_permutations” داخليًا
“<a href="#id7"><span class="problematic" id="id8">*</span></a>(n_permutations + 1) * n_cv” من النماذج. لذلك، فهو ممكن فقط مع
مجموعات البيانات الصغيرة التي يكون فيها تثبيت نموذج فردي سريعًا
جداً.</p>
<p class="rubric">أمثلة</p>
<ul class="simple">
<li><p><a class="reference internal" href="../auto_examples/model_selection/plot_permutation_tests_for_classification.html#sphx-glr-auto-examples-model-selection-plot-permutation-tests-for-classification-py"><span class="std std-ref">Test with permutations the significance of a classification score</span></a></p></li>
</ul>
<details class="sd-sphinx-override sd-dropdown sd-card sd-mb-3" id="المراجع">
<summary class="sd-summary-title sd-card-header">
<span class="sd-summary-text">المراجع<a class="headerlink" href="#المراجع" title="Link to this dropdown">#</a></span><span class="sd-summary-state-marker sd-summary-chevron-right"><svg version="1.1" width="1.5em" height="1.5em" class="sd-octicon sd-octicon-chevron-right" viewBox="0 0 24 24" aria-hidden="true"><path d="M8.72 18.78a.75.75 0 0 1 0-1.06L14.44 12 8.72 6.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018l6.25 6.25a.75.75 0 0 1 0 1.06l-6.25 6.25a.75.75 0 0 1-1.06 0Z"></path></svg></span></summary><div class="sd-summary-content sd-card-body docutils">
<ul class="simple">
<li><p class="sd-card-text">أويالا وغارريجا. <a class="reference external" href="http://www.jmlr.org/papers/volume11/ojala10a/ojala10a.pdf">اختبارات التبديل لدراسة أداء المُصنِّف</a>.
J. Mach. Learn. Res. 2010.</p></li>
</ul>
</div>
</details></section>


                </article>
              
              
              
                <footer class="bd-footer-article">
                  <div class="footer-article-items footer-article__inner">
  
    <div class="footer-article-item">
<div class="prev-next-area">
    <a class="left-prev"
       href="../model_selection.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title"><span class="section-number">3. </span>اختيار النموذج وتقييمه</p>
      </div>
    </a>
    <a class="right-next"
       href="grid_search.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title"><span class="section-number">3.4. </span>البحث الشامل عن الشبكة</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div></div>
  
</div>
                </footer>
              
              
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
<div
    id="pst-page-navigation-heading-2"
    class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
  </div>
  <nav class="bd-toc-nav page-toc" aria-labelledby="pst-page-navigation-heading-2">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#">3.1. التدقيق المتقاطع: تقييم أداء أداة التقدير</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#cross-validate">3.1.1. دالة cross_validate وتقييم المتري المتعدد</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id3">3.1.2. الحصول على تنبؤات عن طريق التحقق من صحة متقاطعة</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#group-k-fold">3.1.2.1. Group k-fold</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#stratifiedgroupkfold">3.1.2.2. StratifiedGroupKFold</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#leave-one-group-out">3.1.2.3. Leave One Group Out</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#leave-p-groups-out">3.1.2.4. Leave P Groups Out</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#group-shuffle-split">3.1.2.5. Group Shuffle Split</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id4">3.1.3. استخدام برامج التحقق من الصحة عبر الدورات لتقسيم التدريب والاختبار</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#cross-validation-of-time-series-data">3.1.4. Cross validation of time series data</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#time-series-split">3.1.4.1. Time Series Split</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id5">3.2. التحقق من صحة المتقاطع واختيار النموذج</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#permutation-test-score">3.3. نتيجة اختبار التبديل</a></li>
</ul>

  </nav></div>

  <div class="sidebar-secondary-item">

  <div class="tocsection sourcelink">
    <a href="../_sources/modules/cross_validation.rst.txt">
      <i class="fa-solid fa-file-lines"></i> Show Source
    </a>
  </div>
</div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item">

  <p class="copyright">
    
      © Copyright 2007 - 2024, scikit-learn developers (BSD License).
      <br/>
    
  </p>
</div>
      
    </div>
  
  
  
</div>

  </footer>
  </body>
</html>