
<!DOCTYPE html>


<html lang="en" data-content_root="../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />
<meta property="og:title" content="تطوير مُقدّرات scikit-learn" />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://scikit-learn/stable/developers/develop.html" />
<meta property="og:site_name" content="scikit-learn" />
<meta property="og:description" content="سواء كنت تقترح مُقدّرًا لإدراجه في scikit-learn، أو تطور حزمة منفصلة متوافقة مع scikit-learn، أو تنفذ مكونات مخصصة لمشاريعك الخاصة، يشرح هذا الفصل كيفية تطوير كائنات تتفاعل بأمان مع أنابيب scikit-l..." />
<meta property="og:image" content="https://scikit-learn.org/stable/_static/scikit-learn-logo-small.png" />
<meta property="og:image:alt" content="scikit-learn" />
<meta name="description" content="سواء كنت تقترح مُقدّرًا لإدراجه في scikit-learn، أو تطور حزمة منفصلة متوافقة مع scikit-learn، أو تنفذ مكونات مخصصة لمشاريعك الخاصة، يشرح هذا الفصل كيفية تطوير كائنات تتفاعل بأمان مع أنابيب scikit-l..." />

    <title>تطوير مُقدّرات scikit-learn &#8212; scikit-learn 1.5.1 documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="../_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=a746c00c" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../_static/plot_directive.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery.css?v=d2d258e8" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery-binder.css?v=f4aeca0c" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery-dataframe.css?v=2082cf3c" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery-rendered-html.css?v=1277b6f3" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-design.min.css?v=95c83b7e" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/colors.css?v=cc94ab7d" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/custom.css?v=e4cb1417" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="../_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>

    <script src="../_static/documentation_options.js?v=44dfd65d"></script>
    <script src="../_static/doctools.js?v=9a2dae69"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../_static/copybutton.js?v=97f0b27d"></script>
    <script src="../_static/design-tabs.js?v=f930bc37"></script>
    <script data-domain="scikit-learn.org" defer="defer" src="https://views.scientific-python.org/js/script.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'developers/develop';</script>
    <script>
        DOCUMENTATION_OPTIONS.theme_version = '0.15.4';
        DOCUMENTATION_OPTIONS.theme_switcher_json_url = 'https://scikit-learn.org/dev/_static/versions.json';
        DOCUMENTATION_OPTIONS.theme_switcher_version_match = '1.5.1';
        DOCUMENTATION_OPTIONS.show_version_warning_banner = true;
        </script>
    <script src="../_static/scripts/dropdown.js?v=e2048168"></script>
    <script src="../_static/scripts/version-switcher.js?v=a6dd8357"></script>
    <link rel="icon" href="../_static/favicon.ico"/>
    <link rel="author" title="About these documents" href="../about.html" />
    <link rel="search" title="Search" href="../search.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
<div class="bd-header__inner bd-page-width">
  <button class="pst-navbar-icon sidebar-toggle primary-toggle" aria-label="Site navigation">
    <span class="fa-solid fa-bars"></span>
  </button>
  
  
  <div class=" navbar-header-items__start">
    
      <div class="navbar-item">

  
    
  

<a class="navbar-brand logo" href="../index.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../_static/scikit-learn-logo-small.png" class="logo__image only-light" alt="scikit-learn homepage"/>
    <script>document.write(`<img src="../_static/scikit-learn-logo-small.png" class="logo__image only-dark" alt="scikit-learn homepage"/>`);</script>
  
  
</a></div>
    
  </div>
  
  <div class=" navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item ">
  <a class="nav-link nav-internal" href="../install.html">
    Install
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../user_guide.html">
    مرجع المستخدم
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../api/index.html">
    API
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../auto_examples/index.html">
    Examples
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-external" href="https://blog.scikit-learn.org/">
    Community
  </a>
</li>

            <li class="nav-item dropdown">
                <button class="btn dropdown-toggle nav-item" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-controls="pst-nav-more-links">
                    More
                </button>
                <ul id="pst-nav-more-links" class="dropdown-menu">
                    
<li class=" ">
  <a class="nav-link dropdown-item nav-internal" href="../getting_started.html">
    بدء الاستخدام
  </a>
</li>


<li class=" ">
  <a class="nav-link dropdown-item nav-internal" href="../whats_new.html">
    تاريخ الإصدارات
  </a>
</li>


<li class=" ">
  <a class="nav-link dropdown-item nav-internal" href="../glossary.html">
    Glossary
  </a>
</li>


<li class=" ">
  <a class="nav-link dropdown-item nav-external" href="https://scikit-learn.org/dev/developers/index.html">
    Development
  </a>
</li>


<li class=" ">
  <a class="nav-link dropdown-item nav-internal" href="../faq.html">
    FAQ
  </a>
</li>


<li class=" ">
  <a class="nav-link dropdown-item nav-internal" href="../support.html">
    الدعم
  </a>
</li>


<li class=" ">
  <a class="nav-link dropdown-item nav-internal" href="../related_projects.html">
    التعاون مع الأطر الأخرى وتحسينها
  </a>
</li>


<li class=" ">
  <a class="nav-link dropdown-item nav-internal" href="../roadmap.html">
    خارطة الطريق
  </a>
</li>


<li class=" ">
  <a class="nav-link dropdown-item nav-internal" href="../governance.html">
    Governance
  </a>
</li>


<li class=" ">
  <a class="nav-link dropdown-item nav-internal" href="../about.html">
    الحوكمة
  </a>
</li>

                </ul>
            </li>
            
  </ul>
</nav></div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
        <div class="navbar-item navbar-persistent--container">
          

<script>
document.write(`
  <button class="btn btn-sm pst-navbar-icon search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
        </div>
      
      
        <div class="navbar-item">

<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script></div>
      
        <div class="navbar-item"><ul class="navbar-icon-links"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/scikit-learn/scikit-learn" title="GitHub" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-square-github fa-lg" aria-hidden="true"></i>
            <span class="sr-only">GitHub</span></a>
        </li>
</ul></div>
      
        <div class="navbar-item">
<script>
document.write(`
  <div class="version-switcher__container dropdown">
    <button id="pst-version-switcher-button-2"
      type="button"
      class="version-switcher__button btn btn-sm dropdown-toggle"
      data-bs-toggle="dropdown"
      aria-haspopup="listbox"
      aria-controls="pst-version-switcher-list-2"
      aria-label="Version switcher list"
    >
      Choose version  <!-- this text may get changed later by javascript -->
      <span class="caret"></span>
    </button>
    <div id="pst-version-switcher-list-2"
      class="version-switcher__menu dropdown-menu list-group-flush py-0"
      role="listbox" aria-labelledby="pst-version-switcher-button-2">
      <!-- dropdown will be populated by javascript on page load -->
    </div>
  </div>
`);
</script></div>
      
    </div>
    
  </div>
  
  
    <div class="navbar-persistent--mobile">

<script>
document.write(`
  <button class="btn btn-sm pst-navbar-icon search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
    </div>
  

  
    <button class="pst-navbar-icon sidebar-toggle secondary-toggle" aria-label="On this page">
      <span class="fa-solid fa-outdent"></span>
    </button>
  
</div>

    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
        
      
      <div class="bd-sidebar-primary bd-sidebar hide-on-wide">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          
          
            <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item ">
  <a class="nav-link nav-internal" href="../install.html">
    Install
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../user_guide.html">
    مرجع المستخدم
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../api/index.html">
    API
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../auto_examples/index.html">
    Examples
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-external" href="https://blog.scikit-learn.org/">
    Community
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../getting_started.html">
    بدء الاستخدام
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../whats_new.html">
    تاريخ الإصدارات
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../glossary.html">
    Glossary
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-external" href="https://scikit-learn.org/dev/developers/index.html">
    Development
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../faq.html">
    FAQ
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../support.html">
    الدعم
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../related_projects.html">
    التعاون مع الأطر الأخرى وتحسينها
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../roadmap.html">
    خارطة الطريق
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../governance.html">
    Governance
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../about.html">
    الحوكمة
  </a>
</li>

  </ul>
</nav></div>
          
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item">

<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script></div>
        
          <div class="navbar-item"><ul class="navbar-icon-links"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/scikit-learn/scikit-learn" title="GitHub" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-square-github fa-lg" aria-hidden="true"></i>
            <span class="sr-only">GitHub</span></a>
        </li>
</ul></div>
        
          <div class="navbar-item">
<script>
document.write(`
  <div class="version-switcher__container dropdown">
    <button id="pst-version-switcher-button-3"
      type="button"
      class="version-switcher__button btn btn-sm dropdown-toggle"
      data-bs-toggle="dropdown"
      aria-haspopup="listbox"
      aria-controls="pst-version-switcher-list-3"
      aria-label="Version switcher list"
    >
      Choose version  <!-- this text may get changed later by javascript -->
      <span class="caret"></span>
    </button>
    <div id="pst-version-switcher-list-3"
      class="version-switcher__menu dropdown-menu list-group-flush py-0"
      role="listbox" aria-labelledby="pst-version-switcher-button-3">
      <!-- dropdown will be populated by javascript on page load -->
    </div>
  </div>
`);
</script></div>
        
      </div>
    
  </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">



<nav aria-label="Breadcrumb" class="d-print-none">
  <ul class="bd-breadcrumbs">
    
    <li class="breadcrumb-item breadcrumb-home">
      <a href="../index.html" class="nav-link" aria-label="Home">
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
    <li class="breadcrumb-item active" aria-current="page">تطوير...</li>
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="scikit-learn">
<h1>تطوير مُقدّرات scikit-learn<a class="headerlink" href="#scikit-learn" title="Link to this heading">#</a></h1>
<p>سواء كنت تقترح مُقدّرًا لإدراجه في scikit-learn، أو تطور حزمة منفصلة متوافقة مع scikit-learn، أو تنفذ مكونات مخصصة لمشاريعك الخاصة، يشرح هذا الفصل كيفية تطوير كائنات تتفاعل بأمان مع أنابيب scikit-learn وأدوات اختيار النماذج.</p>
</section>
<section id="api-overview">
<span id="id1"></span><h1>واجهات برمجة تطبيقات كائنات scikit-learn<a class="headerlink" href="#api-overview" title="Link to this heading">#</a></h1>
<p>للحصول على واجهة برمجة تطبيقات موحدة، نحاول أن يكون لدينا واجهة برمجة تطبيقات أساسية مشتركة لجميع الكائنات. بالإضافة إلى ذلك، لتجنب انتشار كود الإطار، نحاول تبني اتفاقيات بسيطة والحد من عدد الطرق التي يجب أن ينفذها الكائن إلى الحد الأدنى.</p>
<p>توصف عناصر واجهة برمجة تطبيقات scikit-learn بشكل أكثر تحديدًا في: ref:<code class="docutils literal notranslate"><span class="pre">glossary</span></code>.</p>
<section id="id2">
<h2>كائنات مختلفة<a class="headerlink" href="#id2" title="Link to this heading">#</a></h2>
<p>الكائنات الرئيسية في scikit-learn هي (يمكن لفئة واحدة تنفيذ واجهات متعددة):</p>
<dl class="field-list">
<dt class="field-odd">Estimator<span class="colon">:</span></dt>
<dd class="field-odd"><p>الكائن الأساسي، ينفذ طريقة “fit” لتعلم البيانات، إما:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">estimator</span> <span class="o">=</span> <span class="n">estimator</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">targets</span><span class="p">)</span>
</pre></div>
</div>
<p>أو:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">estimator</span> <span class="o">=</span> <span class="n">estimator</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</pre></div>
</div>
</dd>
<dt class="field-even">Predictor<span class="colon">:</span></dt>
<dd class="field-even"><p>للتعلم الخاضع للإشراف، أو بعض المشكلات غير الخاضعة للإشراف، ينفذ:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">prediction</span> <span class="o">=</span> <span class="n">predictor</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</pre></div>
</div>
<p>عادة ما توفر خوارزميات التصنيف أيضًا طريقة لقياس مدى التأكد من التنبؤ، إما باستخدام “decision_function” أو “predict_proba”:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">probability</span> <span class="o">=</span> <span class="n">predictor</span><span class="o">.</span><span class="n">predict_proba</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</pre></div>
</div>
</dd>
<dt class="field-odd">Transformer<span class="colon">:</span></dt>
<dd class="field-odd"><p>لتعديل البيانات بطريقة خاضعة للإشراف أو غير خاضعة للإشراف (على سبيل المثال، عن طريق إضافة أعمدة أو تغييرها أو إزالتها، ولكن ليس عن طريق إضافة صفوف أو إزالتها). ينفذ:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">new_data</span> <span class="o">=</span> <span class="n">transformer</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</pre></div>
</div>
<p>عندما يمكن تنفيذ التجهيز والتحويل معًا بكفاءة أكبر من تنفيذهما بشكل منفصل، ينفذ:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">new_data</span> <span class="o">=</span> <span class="n">transformer</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</pre></div>
</div>
</dd>
<dt class="field-even">Model<span class="colon">:</span></dt>
<dd class="field-even"><p>نموذج يمكنه إعطاء مقياس “goodness of fit” أو احتمال حدوث بيانات غير مرئية، ينفذ (الأعلى أفضل):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">score</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">score</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</pre></div>
</div>
</dd>
</dl>
</section>
<section id="id3">
<h2>المُقدّرات<a class="headerlink" href="#id3" title="Link to this heading">#</a></h2>
<p>لدى واجهة برمجة التطبيقات كائن واحد سائد: المُقدّر. المُقدّر هو كائن يتناسب مع نموذج بناءً على بعض بيانات التدريب وقادر على استنتاج بعض الخصائص على بيانات جديدة. يمكن أن يكون، على سبيل المثال، مصنفًا أو مُرجعًا. تنفذ جميع المُقدّرات طريقة “fit”:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">estimator</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
</pre></div>
</div>
<p>لدى جميع المُقدّرات المدمجة أيضًا طريقة “set_params”، والتي تقوم بتعيين معلمات مستقلة عن البيانات (باستبدال قيم المعلمات السابقة التي تم تمريرها إلى “__init__”).</p>
<p>يجب أن ترث جميع المُقدّرات في شيفرة scikit-learn الأساسية من “sklearn.base.BaseEstimator”.</p>
<section id="id4">
<h3>التهيئة<a class="headerlink" href="#id4" title="Link to this heading">#</a></h3>
<p>يتعلق هذا الأمر بإنشاء كائن. قد تقبل طريقة “__init__” الخاصة بالكائن ثوابت كوسيطات تحدد سلوك المُقدّر (مثل ثابت “C” في SVMs). ومع ذلك، يجب ألا يأخذ بيانات التدريب الفعلية كوسيط، حيث يتم ترك ذلك لطريقة “fit”:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">clf2</span> <span class="o">=</span> <span class="n">SVC</span><span class="p">(</span><span class="n">C</span><span class="o">=</span><span class="mf">2.3</span><span class="p">)</span>
<span class="n">clf3</span> <span class="o">=</span> <span class="n">SVC</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]],</span> <span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span> <span class="c1"># خطأ!</span>
</pre></div>
</div>
<p>يجب أن تكون جميع الوسيطات التي تقبلها “__init__” وسيطات كلمات رئيسية بقيم افتراضية. وبعبارة أخرى، يجب أن يكون المستخدم قادرًا على إنشاء مثيل من المُقدّر دون تمرير أي وسيطات إليه. يجب أن تتوافق الوسيطات جميعها مع معلمات تصف النموذج أو مشكلة التحسين التي يحاول المُقدّر حلها. يتم تذكر هذه الوسيطات الأولية (أو المعلمات) دائمًا بواسطة المُقدّر.</p>
<p>لاحظ أيضًا أنه لا يجب توثيقها في قسم “Attributes”، ولكن بدلاً من ذلك في قسم “Parameters” لهذا المُقدّر.</p>
<p>بالإضافة إلى ذلك، يجب أن <strong>يتوافق كل وسيط كلمة رئيسية تقبله</strong> “__init__” <strong>مع خاصية على المثيل</strong>. يعتمد scikit-learn على هذا للعثور على الخصائص ذات الصلة لتعيينها على مُقدّر عند إجراء اختيار النموذج.</p>
<p>لتلخيص، يجب أن تبدو “__init__” كالتالي:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">param1</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">param2</span><span class="o">=</span><span class="mi">2</span><span class="p">):</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">param1</span> <span class="o">=</span> <span class="n">param1</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">param2</span> <span class="o">=</span> <span class="n">param2</span>
</pre></div>
</div>
<p>لا يجب أن يكون هناك أي منطق، حتى التحقق من صحة الإدخال، ويجب عدم تغيير المعلمات. يجب وضع المنطق المقابل حيث يتم استخدام المعلمات، عادة في “fit”.</p>
<p>ما يلي خطأ:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">param1</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">param2</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">param3</span><span class="o">=</span><span class="mi">3</span><span class="p">):</span>
    <span class="c1"># خطأ: لا يجب تعديل المعلمات</span>
    <span class="k">if</span> <span class="n">param1</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
        <span class="n">param2</span> <span class="o">+=</span> <span class="mi">1</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">param1</span> <span class="o">=</span> <span class="n">param1</span>
    <span class="c1"># خطأ: يجب أن يكون للخصائص الخاصة بالكائن نفس اسم</span>
    <span class="c1"># الوسيط في الباني</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">param3</span> <span class="o">=</span> <span class="n">param2</span>
</pre></div>
</div>
<p>والسبب في تأجيل التحقق من الصحة هو أنه يجب إجراء نفس التحقق من الصحة في “set_params”، والذي يتم استخدامه في خوارزميات مثل “GridSearchCV”.</p>
</section>
<section id="id5">
<h3>التجهيز<a class="headerlink" href="#id5" title="Link to this heading">#</a></h3>
<p>الشيء التالي الذي قد ترغب في فعله هو تقدير بعض المعلمات في النموذج. يتم تنفيذ ذلك في طريقة “fit”.</p>
<p>تأخذ طريقة “fit” بيانات التدريب كوسيطات، والتي يمكن أن تكون مصفوفة واحدة في حالة التعلم غير الخاضع للإشراف، أو مصفوفتين في حالة التعلم الخاضع للإشراف.</p>
<p>لاحظ أنه يتم تجهيز النموذج باستخدام “X” و “y”، ولكن الكائن لا يحتوي على مرجع إلى “X” و “y”. ومع ذلك، هناك بعض الاستثناءات لهذا، كما هو الحال في حالة النواة المحسوبة مسبقًا حيث يجب تخزين هذه البيانات لاستخدامها بواسطة طريقة “predict”.</p>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>المعلمات</p></th>
<th class="head"></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>X</p></td>
<td><p>مصفوفة الشكل (n_samples، n_features)</p></td>
</tr>
<tr class="row-odd"><td><p>y</p></td>
<td><p>مصفوفة الشكل (n_samples،)</p></td>
</tr>
<tr class="row-even"><td><p>kwargs</p></td>
<td><p>وسيطات اختيارية تعتمد على البيانات</p></td>
</tr>
</tbody>
</table>
</div>
<p>يجب أن يكون “X.shape[0]” هو نفسه “y.shape[0]”. إذا لم يتم استيفاء هذا الشرط، فيجب إثارة استثناء من النوع “ValueError”.</p>
<p>قد يتم تجاهل “y” في حالة التعلم غير الخاضع للإشراف. ومع ذلك، لجعل من الممكن استخدام المُقدّر كجزء من خط أنابيب يمكنه مزج المحولات الخاضعة للإشراف وغير الخاضعة للإشراف، حتى المُقدّرات غير الخاضعة للإشراف تحتاج إلى قبول وسيط “y=None” في
المركز الثاني الذي يتم تجاهله ببساطة بواسطة المُقدّر. لنفس السبب، تحتاج طرق “fit_predict” و “fit_transform” و “score” و “partial_fit” إلى قبول وسيط “y” في
المركز الثاني إذا تم تنفيذها.</p>
<p>يجب أن تعيد الطريقة الكائن ( “self”). هذا النمط مفيد ليكون من الممكن تنفيذ عبارات سريعة في جلسة IPython مثل:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">y_predicted</span> <span class="o">=</span> <span class="n">SVC</span><span class="p">(</span><span class="n">C</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_train</span><span class="p">,</span> <span class="n">y_train</span><span class="p">)</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X_test</span><span class="p">)</span>
</pre></div>
</div>
<p>اعتمادًا على طبيعة الخوارزمية، يمكن أن تقبل “fit” أيضًا وسيطات كلمات رئيسية إضافية. ومع ذلك، يجب أن تكون أي معلمة يمكن تعيين قيمة لها قبل الوصول إلى البيانات وسيطة “__init__” كلمة رئيسية. يجب تقييد <strong>معلمات التجهيز</strong> لتكون متغيرات تعتمد بشكل مباشر على البيانات. على سبيل المثال، مصفوفة غرام أو مصفوفة تشابه محسوبة مسبقًا من مصفوفة البيانات “X” تعتمد على البيانات. معيار التوقف “tol” ليس مباشرًا
يعتمد على البيانات (على الرغم من أن القيمة المثالية وفقًا لبعض دالة التقييم ربما تكون كذلك).</p>
<p>عندما يتم استدعاء “fit”، يجب تجاهل أي استدعاء سابق لـ “fit”. بشكل عام، يجب أن يكون استدعاء “estimator.fit(X1)” ثم “estimator.fit(X2)” هو نفسه مثل استدعاء “estimator.fit(X2)” فقط. ومع ذلك، قد لا يكون هذا صحيحًا في الممارسة عندما تعتمد “fit” على بعض العمليات العشوائية، راجع: term:<code class="docutils literal notranslate"><span class="pre">random_state</span></code>. استثناء آخر لهذه القاعدة هو عندما يتم تعيين المعلمة الفائقة “warm_start” إلى “True” للمُقدّرات التي تدعمها. “warm_start=True” يعني أنه يتم إعادة استخدام حالة المعلمات القابلة للتدريب السابقة للمُقدّر بدلاً من استخدام استراتيجية التهيئة الافتراضية.</p>
</section>
<section id="id6">
<h3>الخصائص المقدرة<a class="headerlink" href="#id6" title="Link to this heading">#</a></h3>
<p>يجب أن يكون للخصائص المقدرة من البيانات دائمًا اسم ينتهي بشرطة سفلية، على سبيل المثال، سيتم تخزين معاملات بعض مُقدّر الانحدار في خاصية “<a href="#id21"><span class="problematic" id="id22">coef_</span></a>” بعد استدعاء “fit”.</p>
<p>من المتوقع أن يتم تجاوز الخصائص المقدرة عند استدعاء “fit” للمرة الثانية.</p>
</section>
<section id="id7">
<h3>وسيطات اختيارية<a class="headerlink" href="#id7" title="Link to this heading">#</a></h3>
<p>في الخوارزميات التكرارية، يجب تحديد عدد التكرارات بواسطة عدد صحيح يسمى “n_iter”.</p>
</section>
<section id="id8">
<h3>الخصائص العالمية<a class="headerlink" href="#id8" title="Link to this heading">#</a></h3>
<p>يجب على المُقدّرات التي تتوقع إدخال جدول بيانات تعيين خاصية “<a href="#id23"><span class="problematic" id="id24">n_features_in_</span></a>” في وقت “fit” للإشارة إلى عدد الميزات التي يتوقعها المُقدّر للمكالمات اللاحقة إلى “predict” أو “transform”.
راجع
<a class="reference external" href="https://scikit-learn-enhancement-proposals.readthedocs.io/en/latest/slep010/proposal.html">SLEP010</a>
للحصول على التفاصيل.</p>
<p id="rolling-your-own-estimator">إنشاء مُقدّرك الخاص
بالتأكيد! فيما يلي ترجمة لنص ReStructuredText إلى اللغة العربية:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">من</span> <span class="n">sklearn</span><span class="o">.</span><span class="n">utils</span><span class="o">.</span><span class="n">estimator_checks</span> <span class="n">استيراد</span> <span class="n">check_estimator</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">من</span> <span class="n">sklearn</span><span class="o">.</span><span class="n">svm</span> <span class="n">استيراد</span> <span class="n">LinearSVC</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">check_estimator</span> <span class="p">(</span><span class="n">LinearSVC</span> <span class="p">())</span> <span class="c1"># يمر</span>
</pre></div>
</div>
<p>قد يكون الدافع الرئيسي لجعل فئة متوافقة مع واجهة مصدر تقدير scikit-learn هو أنك تريد استخدامها مع أدوات تقييم النموذج واختياره مثل :class: model_selection.GridSearchCV و :class: pipeline.Pipeline.</p>
<p>قبل تفصيل الواجهة المطلوبة أدناه، سنصف طريقتين لتحقيق الواجهة الصحيحة بسهولة أكبر.</p>
</section>
</section>
<section id="id9">
<h2>احصل على معلمات وحدد معلمات<a class="headerlink" href="#id9" title="Link to this heading">#</a></h2>
<p>تحتوي جميع مصادر scikit-learn على وظائف “get_params” و “set_params”.
لا تأخذ وظيفة “get_params” أي وسيطات وتعيد قاموسًا لمعلمات “init” الخاصة بالمصدر، إلى جانب قيمها.</p>
<p>يجب أن يأخذ وسيطًا واحدًا، “deep”، والذي يتلقى قيمة منطقية
تحديد ما إذا كان يجب على الطريقة إعادة معلمات
المقدرات الفرعية (بالنسبة لمعظم المقدرات، يمكن تجاهل هذا). يجب أن تكون القيمة الافتراضية
من أجل “عميق” <code class="docutils literal notranslate"><span class="pre">صحيح</span></code>. على سبيل المثال بالنظر إلى المقدر التالي:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>&gt;&gt;&gt; من sklearn.base استيراد BaseEstimator
&gt;&gt;&gt; من sklearn.linear_model استيراد LogisticRegression
&gt;&gt;&gt; class MyEstimator (BaseEstimator):
... def __init__ (self، subestimator = None، my_extra_param = &quot;random&quot;):
... self.subestimator = subestimator
... self.my_extra_param = my_extra_param
</pre></div>
</div>
<p>سيتحكم المعلمة <code class="docutils literal notranslate"><span class="pre">deep</span></code> فيما إذا كان يجب الإبلاغ عن معلمات
<code class="docutils literal notranslate"><span class="pre">subestimator</span></code>. وبالتالي عندما <code class="docutils literal notranslate"><span class="pre">deep</span> <span class="pre">=</span> <span class="pre">True</span></code>، فإن الإخراج سيكون:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>&gt;&gt;&gt; my_estimator = MyEstimator (subestimator = LogisticRegression ())
&gt;&gt;&gt; لكل معلمة، قيمة في my_estimator.get_params (deep = True).items ():
... طباعة (f &quot;{param} -&gt; {value}&quot;)
my_extra_param -&gt; random
subestimator__C -&gt; 1.0
subestimator__class_weight -&gt; لا شيء
subestimator__dual -&gt; false
subestimator__fit_intercept -&gt; true
subestimator__intercept_scaling -&gt; 1
subestimator__l1_ratio -&gt; لا شيء
subestimator__max_iter -&gt; 100
subestimator__multi_class -&gt; غير مستخدم
subestimator__n_jobs -&gt; لا شيء
subestimator__penalty -&gt; l2
subestimator__random_state -&gt; لا شيء
subestimator__solver -&gt; lbfgs
subestimator__tol -&gt; 0.0001
subestimator__verbose -&gt; 0
subestimator__warm_start -&gt; false
subestimator -&gt; LogisticRegression ()
</pre></div>
</div>
<p>غالبًا ما يكون لـ <code class="docutils literal notranslate"><span class="pre">subestimator</span></code> اسم (كما هو الحال على سبيل المثال الخطوات المسماة في
:class: ~ sklearn.pipeline.Pipeline` كائن)، في هذه الحالة يجب أن تكون المفتاح
تصبح <code class="docutils literal notranslate"><span class="pre">&lt;name&gt;</span> <span class="pre">__C</span></code>، <code class="docutils literal notranslate"><span class="pre">&lt;name&gt;</span> <span class="pre">__class_weight</span></code>، إلخ.</p>
<p>بينما عندما <code class="docutils literal notranslate"><span class="pre">deep</span> <span class="pre">=</span> <span class="pre">False</span></code>، فإن الإخراج سيكون:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>&gt;&gt;&gt; لكل معلمة، قيمة في my_estimator.get_params (deep = False).items ():
... طباعة (f &quot;{param} -&gt; {value}&quot;)
my_extra_param -&gt; random
subestimator -&gt; LogisticRegression ()
</pre></div>
</div>
<p>من ناحية أخرى، يأخذ “set_params” معلمات “init”
كوسيطات الكلمات الرئيسية، وفكها في قاموس من النموذج
`` ‘parameter’: value`` ويحدد معلمات المصدر باستخدام هذا القاموس.
يجب أن تكون قيمة الإرجاع هي المصدر نفسه.</p>
<p>بينما لا تكون آلية “get_params” ضرورية (راجع: ref: cloning أدناه)،
تعد وظيفة “set_params” ضرورية حيث يتم استخدامها لتعيين المعلمات أثناء
عمليات البحث الشبكي.</p>
<p>أسهل طريقة لتنفيذ هذه الوظائف، والحصول على طريقة معقولة
`` __repr__`` الطريقة، هي الميراث من `` sklearn.base.BaseEstimator``. إذا كنت
لا تريد جعل الكود الخاص بك يعتمد على scikit-learn، فإن أسهل طريقة لتنفيذ الواجهة هي:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>def get_params (self، deep = True):
    # افترض أن هذا المصدر له معلمات &quot;alpha&quot; و &quot;recursive&quot;
    return {&quot;alpha&quot;: self.alpha، &quot;recursive&quot;: self.recursive}

def set_params (self، ** parameters):
    لكل معلمة، قيمة في المعلمات.العناصر ():
        setattr (self، parameter، value)
    return self
</pre></div>
</div>
</section>
<section id="init">
<h2>المعلمات و init<a class="headerlink" href="#init" title="Link to this heading">#</a></h2>
<p>نظرًا لأن :class: model_selection.GridSearchCV يستخدم “set_params”
لتطبيق إعداد المعلمات على المقدرات،
فمن الضروري أن يكون لاستدعاء “set_params” نفس التأثير
كما هو الحال عند إعداد المعلمات باستخدام طريقة “init”.
أسهل طريقة وأكثرها موثوقية لتحقيق ذلك هي
<strong>لا تفعل أي تحقق من صحة المعلمة في</strong> `` __init__``.
كل المنطق وراء معلمات المصدر،
مثل ترجمة وسيطات السلسلة إلى وظائف، يجب أن يتم في “fit”.</p>
<p>من المتوقع أيضًا أن المعلمات التي تحتوي على علامة سفلية متبوعة بـ `` <a href="#id10"><span class="problematic" id="id11">_`</span></a>` <strong>لا يتم تعيينها
داخل طريقة</strong> `` __init__``. جميع المعلمات العامة الوحيدة التي تم تعيينها بواسطة
تناسب لها علامة سفلية. ونتيجة لذلك، يتم استخدام وجود معلمات مع
علامة سفلية للتحقق مما إذا كان المصدر قد تم تثبيته.</p>
</section>
<section id="cloning">
<span id="id12"></span><h2>الاستنساخ<a class="headerlink" href="#cloning" title="Link to this heading">#</a></h2>
<p>لاستخدامها مع :mod: ~ sklearn.model_selection module،
يجب أن يدعم المصدر وظيفة “base.clone” لاستنساخ مصدر تقدير.
يمكن القيام بذلك عن طريق توفير طريقة “get_params”.
إذا كان “get_params” موجودًا، فسيتم “clone (estimator)” مثيلًا لـ
`` type (estimator)`` على الذي تم استدعاء “set_params” باستخدام استنساخات
نتيجة “estimator.get_params ()”.</p>
<p>سيتم نسخ الكائنات التي لا توفر هذه الطريقة بعمق
(باستخدام وظيفة Python القياسية “copy.deepcopy”)
إذا تم تمرير “safe=False” إلى “clone”.</p>
<p>يمكن لمصادر التقدير تخصيص سلوك :func: base.clone عن طريق تعريف
<code class="docutils literal notranslate"><span class="pre">__sklearn_clone__</span></code> طريقة. يجب أن تعيد طريقة <code class="docutils literal notranslate"><span class="pre">__sklearn_clone__</span></code> مثيلًا من المصدر. <code class="docutils literal notranslate"><span class="pre">__sklearn_clone__</span></code> مفيد عندما يحتاج مصدر تقدير إلى الاحتفاظ ببعض الحالات عند استدعاء :func: base.clone على المصدر. على سبيل المثال، يمكن تعريف محول مجمد على النحو التالي:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>class FrozenTransformer (BaseEstimator):
    def __init__ (self، fitted_transformer):
        self.fitted_transformer = fitted_transformer

    def __getattr__ (self، name):
        # أصبحت سمات &#39;fitted_transformer&#39; الآن قابلة للوصول
        return getattr (self.fitted_transformer، name)

    def __sklearn_clone__ (self):
        return self

    def fit (self، X، y = None):
        # لا يغير التثبيت حالة المصدر
        return self

    def fit_transform (self، X، y = None):
        # fit_transform يحول البيانات فقط
        return self.fitted_transformer.transform (X، y)
</pre></div>
</div>
</section>
<section id="id13">
<h2>توافق الأنابيب<a class="headerlink" href="#id13" title="Link to this heading">#</a></h2>
<p>لكي يكون مصدر التقدير قابلًا للاستخدام مع “pipeline.Pipeline” في أي شيء بخلاف
الخطوة الأخيرة، يجب أن توفر وظيفة “fit” أو “fit_transform”.
ليكون قادرًا على تقييم الأنبوب على أي بيانات ولكن مجموعة التدريب،
يجب أن يوفر أيضًا وظيفة “transform”.
لا توجد متطلبات خاصة للخطوة الأخيرة في الأنبوب، باستثناء أن
لديها وظيفة “fit”. يجب أن تأخذ جميع وظائف “fit” و “fit_transform”
وسائط “X، y”، حتى إذا لم يتم استخدام y. وبالمثل، لكي يكون “score” قابلًا للاستخدام،
يجب أن تكون الخطوة الأخيرة في الأنبوب بها وظيفة “score” تقبل “y” اختيارية.</p>
</section>
<section id="id14">
<h2>أنواع المقدرات<a class="headerlink" href="#id14" title="Link to this heading">#</a></h2>
<p>تعتمد بعض الوظائف الشائعة على نوع مصدر التقدير الذي تم تمريره.
على سبيل المثال، يكون التثليث الافتراضي في :class: model_selection.GridSearchCV و
:func: model_selection.cross_val_score استراتيجيًا عند استخدامه
على مصنف، ولكن ليس بخلاف ذلك. وبالمثل، تحتاج درجات الدقة المتوسطة التي تأخذ تنبؤًا مستمرًا إلى استدعاء “decision_function” للمصنفات،
ولكن “predict” للمرجعين. يتم تنفيذ هذا التمييز بين المصنفات والمراجع
باستخدام سمة “estimator_type”، والتي تأخذ قيمة سلسلة.
يجب أن يكون “المصنف” للمصنفات و”regressor” للمراجع و”clusterer” لطرق التجميع، للعمل كما هو متوقع.
سيؤدي الميراث من “ClassifierMixin” أو “RegressorMixin” أو “ClusterMixin”
إلى تعيين السمة تلقائيًا. عندما يحتاج مصدر تقدير ميتا إلى التمييز
بين أنواع مصادر التقدير، بدلاً من التحقق من “estimator_type” مباشرةً، يجب استخدام المساعدين
مثل :func: base.is_classifier.</p>
<p>نماذج محددة
بالتأكيد! فيما يلي ترجمة للنص المحدد بتنسيق ReStructuredText إلى اللغة العربية:</p>
<p>يجب أن تقبل المصنفات حجة “y” (الهدف) إلى “fit” التي تكون تسلسلات (قوائم، مصفوفات) من السلاسل النصية أو الأعداد الصحيحة. يجب ألا تفترض أن تسميات الفئات هي نطاق متصل من الأعداد الصحيحة؛ بدلاً من ذلك، يجب أن تخزن قائمة من الفئات في سمة أو خاصية “<a href="#id25"><span class="problematic" id="id26">classes_</span></a>”. يجب أن يتطابق ترتيب تسميات الفئات في هذه السمة مع الترتيب الذي تعيد به الدوال “predict_proba” و”predict_log_proba” و”decision_function” قيمها. وأسهل طريقة لتحقيق ذلك هي وضع ما يلي في “fit”:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="bp">self</span><span class="o">.</span><span class="n">classes_</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">unique</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="n">return_inverse</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<p>هذا يعيد “y” جديدة تحتوي على فهارس الفئات، بدلاً من التسميات، في النطاق [0، “n_classes”).</p>
<p>يجب أن تعيد طريقة “predict” في المصنف مصفوفات تحتوي على تسميات الفئات من “<a href="#id27"><span class="problematic" id="id28">classes_</span></a>”. في مصنف ينفذ “decision_function”، يمكن تحقيق ذلك بما يلي:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">predict</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">X</span><span class="p">):</span>
    <span class="n">D</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">decision_function</span><span class="p">(</span><span class="n">X</span><span class="p">)</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">classes_</span><span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">argmax</span><span class="p">(</span><span class="n">D</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)]</span>
</pre></div>
</div>
<p>في النماذج الخطية، يتم تخزين المعاملات في مصفوفة تسمى “<a href="#id29"><span class="problematic" id="id30">coef_</span></a>”، ويتم تخزين المصطلح المستقل في “<a href="#id31"><span class="problematic" id="id32">intercept_</span></a>”. يحتوي “sklearn.linear_model._base” على بعض الفئات الأساسية وmixins التي تنفذ أنماط النماذج الخطية الشائعة.</p>
<p>يحتوي نموذج “sklearn.utils.multiclass” على وظائف مفيدة للعمل مع مشكلات التصنيف المتعدد والمتعدد التصنيفات.</p>
</section>
<section id="estimator-tags">
<span id="id15"></span><h2>علامات المقدر<a class="headerlink" href="#estimator-tags" title="Link to this heading">#</a></h2>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>علامات المقدر تجريبية وواجهة برمجة التطبيقات الخاصة بها عرضة للتغيير.</p>
</div>
<p>قدمت Scikit-learn علامات المقدر في الإصدار 0.21. هذه هي علامات المقدرين التي تسمح بالتفتيش البرمجي لقدراتهم، مثل دعم مصفوفة متفرقة، وأنواع الإخراج المدعومة، والطرق المدعومة. علامات المقدر هي قاموس يعيده الأسلوب “_get_tags()”. تُستخدم هذه العلامات في الفحوصات الشائعة التي تقوم بها وظيفة “sklearn.utils.estimator_checks.check_estimator” والزخرفة “sklearn.utils.estimator_checks.parametrize_with_checks”. تحدد العلامات الفحوصات التي سيتم تشغيلها ومدخلات البيانات المناسبة. يمكن أن تعتمد العلامات على معلمات المقدر أو حتى على بنية النظام ويمكن تحديدها بشكل عام في وقت التشغيل فقط.</p>
<p>المجموعة الحالية من علامات المقدر هي:</p>
<dl class="simple">
<dt>allow_nan (default=False)</dt><dd><p>ما إذا كان المقدر يدعم البيانات التي تحتوي على قيم مفقودة مشفرة كـ np.nan</p>
</dd>
<dt>array_api_support (default=False)</dt><dd><p>ما إذا كان المقدر يدعم المدخلات المتوافقة مع واجهة برمجة تطبيقات المصفوفة.</p>
</dd>
<dt>binary_only (default=False)</dt><dd><p>ما إذا كان المقدر يدعم التصنيف الثنائي ولكنه يفتقر إلى دعم التصنيف متعدد الفئات.</p>
</dd>
<dt>multilabel (default=False)</dt><dd><p>ما إذا كان المقدر يدعم الإخراج متعدد التصنيفات.</p>
</dd>
<dt>multioutput (default=False)</dt><dd><p>ما إذا كان المقدر يدعم الإخراج متعدد الأهداف.</p>
</dd>
<dt>multioutput_only (default=False)</dt><dd><p>ما إذا كان المقدر يدعم فقط التصنيف أو الانحدار متعدد الإخراج.</p>
</dd>
<dt>no_validation (default=False)</dt><dd><p>ما إذا كان المقدر يتخطى التحقق من صحة الإدخال. هذا مخصص فقط للمحولات عديمة الحالة والاحتياطية!</p>
</dd>
<dt>non_deterministic (default=False)</dt><dd><p>ما إذا كان المقدر غير محدد نظرًا لقيمة “random_state” ثابتة</p>
</dd>
<dt>pairwise (default=False)</dt><dd><p>يشير هذا السمة المنطقي إلى ما إذا كانت البيانات (“X”) :term: تتكون من مقاييس زوجية عبر العينات بدلاً من تمثيل الميزة لكل عينة. عادة ما يكون “صحيح” حيث يكون للمقدر معلمة “metric” أو “affinity” أو “kernel” بقيمة “precomputed”. الغرض الأساسي منها هو دعم :term: ‘meta-estimator’ أو إجراء التحقق من صحة متقاطع يستخرج عينة فرعية من البيانات المقصود بها مقدر زوجي، حيث تحتاج البيانات إلى الفهرسة على كلا المحورين. يتم استخدام هذه العلامة على وجه التحديد بواسطة “sklearn.utils.metaestimators._safe_split” لتقطيع الصفوف والأعمدة.</p>
</dd>
<dt>preserves_dtype (default=[“np.float64”])</dt><dd><p>ينطبق فقط على المحولات. فهو يقابل أنواع البيانات التي سيتم الحفاظ عليها بحيث تكون “X_trans.dtype” هي نفسها مثل “X.dtype” بعد استدعاء “transformer.transform(X)”. إذا كانت هذه القائمة فارغة، فمن المتوقع ألا يحافظ المحول على نوع البيانات. تعتبر القيمة الأولى في القائمة نوع البيانات الافتراضي، والذي يقابل نوع بيانات الإخراج عندما لا يتم الاحتفاظ بنوع بيانات الإدخال.</p>
</dd>
<dt>poor_score (default=False)</dt><dd><p>ما إذا كان المقدر يفشل في توفير نتيجة “معقولة” لمجموعة الاختبار، والتي حاليًا بالنسبة للانحدار هي R2 من 0.5 على “make_regression(n_samples=200, n_features=10, n_informative=1, bias=5.0, noise=20, random_state=42)”، وبالنسبة للتصنيف دقة 0.83 على “make_blobs(n_samples=300, random_state=0)”. تستند هذه المجموعات والقيم إلى المقدرين الحاليين في sklearn وقد يتم استبدالها بشيء أكثر منهجية.</p>
</dd>
<dt>requires_fit (default=True)</dt><dd><p>ما إذا كان المقدر يتطلب التجهيز قبل استدعاء أحد الأساليب “transform” أو “predict” أو “predict_proba” أو “decision_function”.</p>
</dd>
<dt>requires_positive_X (default=False)</dt><dd><p>ما إذا كان المقدر يتطلب قيمة إيجابية لـ “X”.</p>
</dd>
<dt>requires_y (default=False)</dt><dd><p>ما إذا كان المقدر يتطلب تمرير “y” إلى أساليب “fit” أو “fit_predict” أو “fit_transform”. تكون العلامة “صحيح” للمقدرين الذين يرثون من “~sklearn.base.RegressorMixin” و “~sklearn.base.ClassifierMixin”.</p>
</dd>
<dt>requires_positive_y (default=False)</dt><dd><p>ما إذا كان المقدر يتطلب “y” إيجابية (ينطبق فقط على الانحدار).</p>
</dd>
<dt>_skip_test (default=False)</dt><dd><p>ما إذا كان سيتم تخطي الاختبارات الشائعة تمامًا. لا تستخدم هذا إلا إذا كان لديك سبب <em>جيد جدًا</em>.</p>
</dd>
<dt>_xfail_checks (default=False)</dt><dd><p>قاموس “{check_name: reason}” من الفحوصات الشائعة التي سيتم وضع علامة عليها كـ “XFAIL” لـ pytest، عند استخدام “sklearn.utils.estimator_checks.parametrize_with_checks”. سيتم ببساطة تجاهل هذه الفحوصات ولن يتم تشغيلها بواسطة “sklearn.utils.estimator_checks.check_estimator”، ولكن سيتم رفع تحذير “SkipTestWarning”. لا تستخدم هذا إلا إذا كان هناك سبب <em>جيد جدًا</em> لعدم مرور المقدر الخاص بك في الفحص. لاحظ أيضًا أن استخدام هذه العلامة عرضة للتغيير حيث نحاول جعلها أكثر مرونة: كن مستعدًا للتغييرات التي قد تحدث في المستقبل.</p>
</dd>
<dt>stateless (default=False)</dt><dd><p>ما إذا كان المقدر يحتاج إلى الوصول إلى البيانات للتجهيز. حتى إذا كان المقدر عديم الحالة، فقد يحتاج إلى استدعاء “fit” للتهيئة.</p>
</dd>
<dt>X_types (default=[‘2darray’])</dt><dd><p>أنواع الإدخال المدعومة لـ “X” كقائمة من السلاسل النصية. يتم تشغيل الاختبارات حاليًا فقط إذا كان “2darray” موجودًا في القائمة، مما يشير إلى أن المقدر يأخذ مصفوفات Numpy ثنائية الأبعاد مستمرة كإدخال. القيمة الافتراضية هي [“2darray”]. الأنواع المحتملة الأخرى هي “string” و”sparse” و”categorical” و”dict” و”1dlabels” و”2dlabels”. الهدف هو أن نوع الإدخال المدعوم سيحدد البيانات المستخدمة أثناء الاختبار، خاصة بالنسبة لبيانات “string” و”sparse” و”categorical”. بالنسبة الآن، لا تستفيد اختبارات البيانات النادرة من علامة “sparse”.</p>
</dd>
</dl>
<p>من غير المحتمل أن تناسب القيم الافتراضية لكل علامة احتياجات المقدر المحدد. يمكن إنشاء علامات إضافية أو يمكن تجاوز العلامات الافتراضية عن طريق تعريف طريقة “_more_tags()” والتي تعيد قاموسًا بالعلامات التي تم تجاوزها أو العلامات الجديدة المرغوبة. على سبيل المثال:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">MyMultiOutputEstimator</span><span class="p">(</span><span class="n">BaseEstimator</span><span class="p">):</span>

    <span class="k">def</span> <span class="nf">_more_tags</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">{</span><span class="s1">&#39;multioutput_only&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
                <span class="s1">&#39;non_deterministic&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">}</span>
</pre></div>
</div>
<p>ستعود أي علامة غير موجودة في “_more_tags()” ببساطة إلى القيم الافتراضية الموثقة أعلاه.</p>
<p>على الرغم من أنه غير موصى به، فمن الممكن تجاوز طريقة “_get_tags()”. لاحظ مع ذلك أن <strong>يجب أن تكون جميع العلامات موجودة في القاموس</strong>. إذا كان أي من المفاتيح الموثقة أعلاه غير موجود في إخراج “_get_tags()”، فسيحدث خطأ.</p>
<p>بالإضافة إلى العلامات، يجب على المقدرين أيضًا الإعلان عن أي معلمات غير اختيارية إلى “__init__” في سمة الفئة “required_parameters”، والتي هي قائمة أو مجموعة. إذا كانت “required_parameters” هي فقط “[“estimator”]” أو “[“base_estimator”]”، فسيتم إنشاء المقدر في الاختبارات باستخدام مثيل من “LogisticRegression” (أو “RidgeRegression” إذا كان المقدر هو نموذج تنظيمي). اختيار هذه النماذج غريب إلى حد ما ولكن يجب أن توفر حلولًا قوية مغلقة الشكل.</p>
<p id="developer-api-set-output">واجهة برمجة تطبيقات المطور لـ “set_output”
بالتزامن مع “SLEP018”، يقدم سكيت-ليرن واجهة برمجة التطبيقات (API) “set_output” لتهيئة المحولات لإخراج أطر بيانات بانداس. يتم تعريف واجهة برمجة التطبيقات “set_output” تلقائيًا إذا حدد المحول “get_feature_names_out” و”subclasses” لـ “base.TransformerMixin”. ويُستخدم “get_feature_names_out” للحصول على أسماء أعمدة إخراج بانداس.</p>
<p>“base.OneToOneFeatureMixin” و”base.ClassNamePrefixFeaturesOutMixin” هما مزيجان مفيدان لتحديد “get_feature_names_out”. “base.OneToOneFeatureMixin” مفيد عندما يكون هناك تطابق واحد لواحد بين ميزات الإدخال والمخرجات في المحول، مثل “preprocessing.StandardScaler”. “base.ClassNamePrefixFeaturesOutMixin” مفيد عندما يحتاج المحول إلى إنشاء أسماء ميزاته الخاصة، مثل “decomposition.PCA”.</p>
<p>يمكنك إلغاء الاشتراك في واجهة برمجة التطبيقات “set_output” عن طريق تعيين “auto_wrap_output_keys=None” عند تحديد فئة فرعية مخصصة:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">MyTransformer</span><span class="p">(</span><span class="n">TransformerMixin</span><span class="p">,</span> <span class="n">BaseEstimator</span><span class="p">,</span> <span class="n">auto_wrap_output_keys</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>

    <span class="k">def</span> <span class="nf">fit</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span>
    <span class="k">def</span> <span class="nf">transform</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">X</span>
    <span class="k">def</span> <span class="nf">get_feature_names_out</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">input_features</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="o">...</span>
</pre></div>
</div>
<p>القيمة الافتراضية لـ “auto_wrap_output_keys” هي “(“transform”،)”، والتي تقوم تلقائيًا بتغليف “fit_transform” و”transform”. يستخدم “TransformerMixin” آلية “__init_subclass__” لاستهلاك “auto_wrap_output_keys” وتمرير جميع الحجج الكلمة الأخرى إلى فئة المستوى الأعلى الخاصة بها. يجب <strong>عدم</strong> اعتماد “auto_wrap_output_keys” في فئة المستوى الأعلى “__init_subclass__”.</p>
<p>بالنسبة للمحولات التي تعيد مصفوفات متعددة في “transform”، سيقوم التغليف التلقائي بتغليف المصفوفة الأولى فقط ولن يغير المصفوفات الأخرى.</p>
<p>راجع: ref:<code class="docutils literal notranslate"><span class="pre">sphx_glr_auto_examples_miscellaneous_plot_set_output.py&lt;sphx_glr_auto_examples_miscellaneous_plot_set_output.py&gt;</span></code> للحصول على مثال حول كيفية استخدام واجهة برمجة التطبيقات.</p>
</section>
</section>
<section id="check-is-fitted">
<span id="developer-api-check-is-fitted"></span><h1>واجهة برمجة التطبيقات للمطورين لـ “check_is_fitted”<a class="headerlink" href="#check-is-fitted" title="Link to this heading">#</a></h1>
<p>بشكل افتراضي، يتحقق “sklearn.utils.validation.check_is_fitted” مما إذا كان هناك أي سمات في المثيل مع شرطة سفلية ختامية، على سبيل المثال “<a href="#id33"><span class="problematic" id="id34">coef_</span></a>”. يمكن لمقدّر تغيير السلوك عن طريق تنفيذ طريقة “__sklearn_is_fitted__” لا تأخذ أي إدخال وتعيد قيمة منطقية. إذا وجدت هذه الطريقة، فإن “sklearn.utils.validation.check_is_fitted” ببساطة تعيد إخراجها.</p>
<p>راجع: ref:<code class="docutils literal notranslate"><span class="pre">sphx_glr_auto_examples_developing_estimators_sklearn_is_fitted.py&lt;sphx_glr_auto_examples_developing_estimators_sklearn_is_fitted.py&gt;</span></code> للحصول على مثال حول كيفية استخدام واجهة برمجة التطبيقات.</p>
</section>
<section id="html">
<h1>واجهة برمجة التطبيقات للمطورين للتمثيل HTML<a class="headerlink" href="#html" title="Link to this heading">#</a></h1>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>واجهة برمجة التطبيقات لتمثيل HTML تجريبية وقد تخضع للتغيير.</p>
</div>
<p>تعرض المقدرات التي ترث من “sklearn.base.BaseEstimator” تمثيل HTML لنفسها في بيئات البرمجة التفاعلية مثل دفاتر Jupyter. على سبيل المثال، يمكننا عرض مخطط HTML هذا:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sklearn.base</span> <span class="kn">import</span> <span class="n">BaseEstimator</span>

<span class="n">BaseEstimator</span><span class="p">()</span>
</pre></div>
</div>
<p>يتم الحصول على تمثيل HTML الخام عن طريق استدعاء الدالة “sklearn.utils.estimator_html_repr” على مثيل المقدر.</p>
<p>لتخصيص عنوان URL الذي يرتبط بوثائق المقدر (أي عند النقر فوق أيقونة “؟”)، قم بإلغاء تحديد سمات “_doc_link_module” و”_doc_link_template”. بالإضافة إلى ذلك، يمكنك توفير طريقة “_doc_link_url_param_generator”. قم بتعيين “_doc_link_module” إلى اسم الوحدة النمطية (من المستوى الأعلى) التي تحتوي على المقدر الخاص بك. إذا لم تتطابق القيمة مع اسم الوحدة النمطية من المستوى الأعلى، فلن يحتوي تمثيل HTML على رابط إلى الوثائق. يتم تعيينه على “scikit-learn” لمقدرات scikit-learn.</p>
<p>يتم استخدام “_doc_link_template” لبناء عنوان URL النهائي. بشكل افتراضي، يمكن أن يحتوي على متغيرين: “estimator_module” (الاسم الكامل للوحدة النمطية التي تحتوي على المقدر) و”estimator_name” (اسم فئة المقدر). إذا كنت بحاجة إلى مزيد من المتغيرات، فيجب عليك تنفيذ طريقة “_doc_link_url_param_generator” التي يجب أن تعيد قاموسًا للمتغيرات وقيمها. سيتم استخدام هذا القاموس لعرض “_doc_link_template”.</p>
</section>
<section id="coding-guidelines">
<span id="id16"></span><h1>المبادئ التوجيهية للترميز<a class="headerlink" href="#coding-guidelines" title="Link to this heading">#</a></h1>
<p>فيما يلي بعض الإرشادات حول كيفية كتابة التعليمات البرمجية الجديدة لإدراجها في سكيت-ليرن، والتي قد يكون من المناسب اعتمادها في المشاريع الخارجية. بالطبع، هناك حالات خاصة وسيتم استثناءات لهذه القواعد. ومع ذلك، فإن اتباع هذه القواعد عند تقديم تعليمات برمجية جديدة يجعل المراجعة أسهل، لذا يمكن دمج التعليمات البرمجية الجديدة في وقت أقل.</p>
<p>يجعل تنسيق التعليمات البرمجية الموحد من السهل مشاركة ملكية التعليمات البرمجية. تحاول سكيت-ليرن المشروع اتباع المبادئ التوجيهية الرسمية لـ Python الموضحة بالتفصيل في “PEP8” والتي توضح كيفية تنسيق التعليمات البرمجية وإدراجها. يرجى قراءتها واتباعها.</p>
<p>بالإضافة إلى ذلك، نضيف المبادئ التوجيهية التالية:</p>
<ul class="simple">
<li><p>استخدم شرطات سفلية للفصل بين الكلمات في أسماء غير الفئات: “n_samples” بدلاً من “nsamples”.</p></li>
<li><p>تجنب عدة عبارات في سطر واحد. يفضل العودة إلى سطر بعد عبارة تحكم (إذا/لـ).</p></li>
<li><p>استخدم الواردات النسبية للمراجع داخل سكيت-ليرن.</p></li>
<li><p>تعد اختبارات الوحدة استثناءً لهذه القاعدة؛ يجب أن تستخدم الواردات المطلقة، تمامًا كما يفعل كود العميل. وبالتالي، إذا تم تصدير فئة أو دالة من “sklearn.foo” يتم تنفيذها في “sklearn.foo.bar.baz”، فيجب أن تستور الاختبار منها “sklearn.foo”.</p></li>
<li><p><strong>يرجى عدم استخدام</strong> “import <em>“ **في أي حال*</em>. يعتبر ضارًا من قبل “التوصيات الرسمية لـ Python &lt;<a class="reference external" href="https://docs.python.org/3.1/howto/doanddont.html#at-module-level">https://docs.python.org/3.1/howto/doanddont.html#at-module-level</a>&gt;`_”. يجعل الكود أكثر صعوبة في القراءة حيث لم يعد يتم الإشارة إلى أصل الرموز بشكل صريح، ولكن الأهم من ذلك، أنه يمنع استخدام أداة تحليل ثابتة مثل “pyflakes &lt;<a class="reference external" href="https://divmod.readthedocs.io/en/latest/products/pyflakes.html">https://divmod.readthedocs.io/en/latest/products/pyflakes.html</a>&gt;`_” للعثور تلقائيًا على الأخطاء في سكيت-ليرن.</p></li>
<li><p>استخدم “معيار سلسلة وثائق نومبي &lt;<a class="reference external" href="https://numpydoc.readthedocs.io/en/latest/format.html#docstring-standard">https://numpydoc.readthedocs.io/en/latest/format.html#docstring-standard</a>&gt;`_” في جميع سلاسل الوثائق الخاصة بك.</p></li>
</ul>
<p>يمكن العثور على مثال جيد للكود الذي نفضله هنا <a class="reference external" href="https://gist.github.com/nateGeorge/5455d2c57fb33c1ae04706f2dc4fee01">هنا</a>.</p>
<section id="id18">
<h2>التحقق من صحة الإدخال<a class="headerlink" href="#id18" title="Link to this heading">#</a></h2>
<p>تحتوي الوحدة النمطية “sklearn.utils” على وظائف مختلفة للتحقق من صحة الإدخال والتحويل. في بعض الأحيان، تكون “np.asarray” كافية للتحقق من الصحة؛ لا تستخدم “np.asanyarray” أو “np.atleast_2d”، لأنها تسمح لـ “np.matrix” من نومبي، والتي لها واجهة برمجة تطبيقات مختلفة (على سبيل المثال، “*” تعني المنتج النقطي على “np.matrix”، ولكن المنتج هادامارد على “np.ndarray”).</p>
<p>في حالات أخرى، تأكد من استدعاء “check_array” على أي وسيط يشبه المصفوفة التي يتم تمريرها إلى دالة واجهة برمجة تطبيقات سكيت-ليرن. تعتمد المعلمات الدقيقة المستخدمة بشكل أساسي على ما إذا كان يجب قبول مصفوفات “scipy.sparse” وأي منها.</p>
<p>لمزيد من المعلومات، راجع صفحة: ref:<code class="docutils literal notranslate"><span class="pre">developers-utils</span></code> .</p>
</section>
<section id="id19">
<h2>الأرقام العشوائية<a class="headerlink" href="#id19" title="Link to this heading">#</a></h2>
<p>إذا كانت التعليمات البرمجية الخاصة بك تعتمد على مولد الأرقام العشوائية، فلا تستخدم “numpy.random.random()” أو الروتينات المماثلة. لضمان إمكانية إعادة الإنتاج في التحقق من الأخطاء، يجب أن تقبل الروتين كلمة أساسية “random_state” واستخدامها لإنشاء كائن “numpy.random.RandomState”. راجع: func:<code class="docutils literal notranslate"><span class="pre">sklearn.utils.check_random_state</span></code> في: ref:<code class="docutils literal notranslate"><span class="pre">developers-utils</span></code>.</p>
<p>فيما يلي مثال بسيط للكود الذي يستخدم بعض الإرشادات الموضحة أعلاه:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sklearn.utils</span> <span class="kn">import</span> <span class="n">check_array</span><span class="p">,</span> <span class="n">check_random_state</span>

<span class="k">def</span> <span class="nf">choose_random_sample</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Choose a random point from X.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    X : array-like of shape (n_samples, n_features)</span>
<span class="sd">        An array representing the data.</span>
<span class="sd">    random_state : int or RandomState instance, default=0</span>
<span class="sd">        The seed of the pseudo random number generator that selects a</span>
<span class="sd">        random sample. Pass an int for reproducible output across multiple</span>
<span class="sd">        function calls.</span>
<span class="sd">        See :term:`Glossary &lt;random_state&gt;`.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    x : ndarray of shape (n_features,)</span>
<span class="sd">        A random point selected from X.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">X</span> <span class="o">=</span> <span class="n">check_array</span><span class="p">(</span><span class="n">X</span><span class="p">)</span>
    <span class="n">random_state</span> <span class="o">=</span> <span class="n">check_random_state</span><span class="p">(</span><span class="n">random_state</span><span class="p">)</span>
    <span class="n">i</span> <span class="o">=</span> <span class="n">random_state</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="n">X</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
    <span class="k">return</span> <span class="n">X</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
</pre></div>
</div>
<p>إذا كنت تستخدم العشوائية في مقدر بدلاً من دالة مستقلة، فتنطبق بعض الإرشادات الإضافية.</p>
<p>أولاً، يجب أن يأخذ المقدر وسيط “random_state” في “__init__” مع قيمة افتراضية “None”. يجب أن يقوم بتخزين قيمة وسيطه، <strong>بدون تعديل</strong>، في سمة “random_state”. يمكن أن يستدعي “fit” “check_random_state” على هذه السمة للحصول على مولد أرقام عشوائية حقيقي. إذا كانت هناك حاجة إلى العشوائية بعد “fit”، فيجب تخزين مولد الأرقام العشوائية في سمة “<a href="#id35"><span class="problematic" id="id36">random_state_</span></a>”. يجب أن يوضح المثال التالي هذا:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">GaussianNoise</span><span class="p">(</span><span class="n">BaseEstimator</span><span class="p">,</span> <span class="n">TransformerMixin</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;This estimator ignores its input and returns random Gaussian noise.</span>

<span class="sd">    It also does not adhere to all scikit-learn conventions,</span>
<span class="sd">    but showcases how to handle randomness.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">n_components</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">random_state</span> <span class="o">=</span> <span class="n">random_state</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">n_components</span> <span class="o">=</span> <span class="n">n_components</span>

    <span class="c1"># the arguments are ignored anyway, so we make them optional</span>
    <span class="k">def</span> <span class="nf">fit</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">X</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">random_state_</span> <span class="o">=</span> <span class="n">check_random_state</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">random_state</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">transform</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">X</span><span class="p">):</span>
        <span class="n">n_samples</span> <span class="o">=</span> <span class="n">X</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">random_state_</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="n">n_samples</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">n_components</span><span class="p">)</span>
</pre></div>
</div>
<p>والسبب في هذا الإعداد هو إمكانية إعادة الإنتاج: عندما يتم “تناسب” المقدر مرتين مع نفس البيانات، يجب أن ينتج نموذجًا متطابقًا في كلتا الحالتين، وبالتالي يتم التحقق من الصحة في “fit”، وليس “__init__”.</p>
</section>
<section id="id20">
<h2>التأكيدات العددية في الاختبارات<a class="headerlink" href="#id20" title="Link to this heading">#</a></h2>
<p>عند التأكيد على تكافؤ المصفوفات تقريبًا، استخدم “sklearn.utils._testing.assert_allclose”.</p>
<p>يتم استنتاج التسامح النسبي تلقائيًا من مصفوفات dtypes المقدمة (بالنسبة إلى أنواع float32 وfloat64 على وجه الخصوص) ولكن يمكنك تجاوزها عبر “rtol”.</p>
<p>عند مقارنة المصفوفات ذات العناصر الصفرية، يرجى توفير قيمة غير صفرية للتسامح المطلق عبر “atol”.</p>
<p>لمزيد من المعلومات، يرجى الرجوع إلى سلسلة وثائق “sklearn.utils._testing.assert_allclose”.</p>
</section>
</section>


                </article>
              
              
              
                <footer class="bd-footer-article">
                  <div class="footer-article-items footer-article__inner">
  
    <div class="footer-article-item">
<div class="prev-next-area">
</div></div>
  
</div>
                </footer>
              
              
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
<div
    id="pst-page-navigation-heading-2"
    class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
  </div>
  <nav class="bd-toc-nav page-toc" aria-labelledby="pst-page-navigation-heading-2">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#">تطوير مُقدّرات scikit-learn</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#api-overview">واجهات برمجة تطبيقات كائنات scikit-learn</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id2">كائنات مختلفة</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id3">المُقدّرات</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id4">التهيئة</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id5">التجهيز</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id6">الخصائص المقدرة</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id7">وسيطات اختيارية</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id8">الخصائص العالمية</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id9">احصل على معلمات وحدد معلمات</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#init">المعلمات و init</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#cloning">الاستنساخ</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id13">توافق الأنابيب</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id14">أنواع المقدرات</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#estimator-tags">علامات المقدر</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#check-is-fitted">واجهة برمجة التطبيقات للمطورين لـ “check_is_fitted”</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#html">واجهة برمجة التطبيقات للمطورين للتمثيل HTML</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#coding-guidelines">المبادئ التوجيهية للترميز</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id18">التحقق من صحة الإدخال</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id19">الأرقام العشوائية</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id20">التأكيدات العددية في الاختبارات</a></li>
</ul>
</li>
</ul>

  </nav></div>

  <div class="sidebar-secondary-item">

  <div class="tocsection sourcelink">
    <a href="../_sources/developers/develop.rst.txt">
      <i class="fa-solid fa-file-lines"></i> Show Source
    </a>
  </div>
</div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item">

  <p class="copyright">
    
      © Copyright 2007 - 2024, scikit-learn developers (BSD License).
      <br/>
    
  </p>
</div>
      
    </div>
  
  
  
</div>

  </footer>
  </body>
</html>